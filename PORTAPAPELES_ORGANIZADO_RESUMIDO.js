http://qa.neuvoo.com/service/is-indexed.php?debug=1&u=pandologic-
ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³
[class*=""]
ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³
var exp=document.querySelectorAll('')[0].textContent.trim(); exp;
ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³
var ver=



// ver.jobs[0];  ver.jobs[0].url; // EXTRACT
//ver.job;      ver.job.html;   ver.job.jobdesc // JOBDESC
ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³
[class=""]:not( [style=""])

ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³
script[type="application/ld+json"]
ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³
ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³
//ðŸ‘ŒðŸ‘ŒðŸ‘ŒðŸ‘ŒðŸ‘ŒINDEXARðŸ‘ŒðŸ‘ŒðŸ‘ŒðŸ‘Œ
//ARROW FUNCTION

(()=>{
    var out1={}
      out1.has_next_page=false;                                          
    return out1;
})()
//jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj
ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³
C:\Users\USUARIO\Desktop\RESUMEN VISUAL\Estructuras_de_pagina\
ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³

//MULTIPLES VARIABLES (SENCILLO)
            

        var x1=multiplesVariables(/PALABRA|palabra/gmi,'li',document,false);
                    
        var datess=multiplesVariables(/Dateposted|DATEPOSTED/gmi,'li',document,false);
        if(datess!=undefined){
            //let dateposted_raw=formatDate(datess);
            let dateposted_raw= getDateFormat(datess,"-",1,0,2);  // dd//mm/aaaa
            datess=datess.split('');
            let dateposted_raw= datess[]+"/"+datess[]+"/"+datess[];

            if(validarFormatoFecha(dateposted_raw))job.dateposted_raw=dateposted_raw;
            }

        job.source_salary=multiplesVariables(/\$|salary|SALARY|Salary/gmi,'li',document,false);
        job.source_jobtype=multiplesVariables(/JOBTYPE|jobtype|job type|Job Type/gmi,'li',document,false);
        job.source_benefit=multiplesVariables(/BENEFIT|benefit|Benefit/gmi,'li',document,true);
        job.logo=multiplesVariables(/logo/gmi,'li',document,false);


        function multiplesVariables(expReg,selector,contenedor,nextElementSibling){ // jjms
            var resultado
            let aux = Array.from(contenedor.querySelectorAll(selector)).filter(x => x.textContent.search(expReg) > -1);
            if(!nextElementSibling)aux[0]!=null ? resultado=aux[0].textContent.replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g, '').trim() : resultado=undefined;
            if(nextElementSibling)aux[0]!=null ? resultado=aux[0].nextElementSibling.textContent.replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g, '').trim() : resultado=undefined;
            return resultado;
        }
ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³
//ðŸ¦ºðŸ¦ºðŸ¦º VARIABLES ðŸ¦ºðŸ¦ºlocation,innerHTML, automaticas

//   //*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjjjj SOURCE AND LOCATIONjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj 

job.source_location = elem.querySelector('').textContent.trim();
let hq=""; // HEAD QUARTERS
job.source_location=job.source_location||"";
if((job.source_location.search(/remote|headquarter|head quarter/gmi)>-1)||(job.source_location=="")||(job.source_location.length>70)){job.location=hq;}else{
job.location=(job.source_location)||hq; } //HEAD QUARTERS:
job.location=job.location.replace(/\d/gi,"").replace(/\(\d+\)/g,"").replace(/ \([^)]*\) /g, "").replace(/\(.*?\)/g, '').replace(/<\/?[^>]+(>|$)/g, "").replace(/[^\w\s]/gi, '').replace(/ \{[^)]*\} /g, "").replace(/ \[[^)]*\] /g, "");
// if(job.location.search(//gmi)>-1){job.location="";}
// jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj
// VARIABLE EN INNER_HTML


    let varhtml; let auxhtml = Array.from(document.querySelectorAll('div.vacancies-list-cards> div p')[0].innerHTML.split('<br')).filter(x=> x.search(/LocalizaÃ§Ã£o/gmi)>-1);
    //aux1[0]!=null ? var1=aux1[0].textContent.trim() : var1='';
    auxhtml[0]!=null ? varhtml=auxhtml[0].split('</strong>').pop().replaceAll('\n','').trim() : varhtml='';
  //*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj



let job={};   // aut
//*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjjjjj JOBTYPE jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj 
if(!job.source_jobtype) job.source_jobtype=buscOcurrenciaHTML(document.body,null,"",/fulltime|full-time|part-time|full time|partime|parttime|part time|teilzeit|permanent|casual/gmi,false);
// //*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjj//EXPERIENCE REQUIRED jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj 
if(!job.experience_required){
let experience=[];  for (let li of document.querySelectorAll("p,li")) {
    if (/years|year|month|Months|anni|ans|mesi|jaar|maand|aÃ±os|anno|jahre/i.test(li.textContent) && /experience|Experience|esperienza|expÃ©rience|werkervaring|experiencia|erfahrung/i.test(li.textContent)
      && /\d|one|two|three|four|five|six|seven|eight|nine|ten/gi.test(li.textContent))
      experience.push(li.textContent);
  }
  if(experience[0]!=undefined){job.experience_required=experience[0].replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF]\[U+2728])/g, '').trim();}
}
//*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjjjjj SALARY jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj 
//source salary   
if(!job.source_salary) {      
let source_salary=[];  for (let li of document.querySelectorAll("p,li")) {
    if (/salary|Ã‰chelle de traitement|Hourly Range|payment|remuneration|salaire|paiement|salaire|salaris|uitbetaling|bezoldiging|Gehaltszahlung|GehaltsvergÃ¼tung/i.test(li.textContent) && /\$|Â¢|â‚¬/i.test(li.textContent)
      && /\d|one|two|three|four|five|six|seven|eight|nine|ten/gi.test(li.textContent))
      source_salary.push(li.textContent);
  }
  if(source_salary[0]!=undefined){job.source_salary=source_salary[0].replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF]\[U+2728])/g, '').trim();
if(job.source_salary)job.source_salary=job.source_salary.replace("Hourly Range:","").trim();}
}
ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³

    // FETCH EXTRAC BASICO


    (async () => {
        let out = {};
        // out["pass_it"] = pass_it;
        
        var jobsSelector = ``

        //   // JJJJJJ// FORMAT DATE JJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJ
// const formatDate = (value) => {
//     let date = new Date(value);
//     const withCero = n => n < 10 ? `0${n}` : n;
//     return `${withCero(date.getMonth()+1)}/${withCero(date.getDate())}/${date.getFullYear()}`;
//   }
//   // JJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJ
        try {
        let jobs = [];
        const url = window.location.href
        const resp = await fetch(url, {
        "headers": {}
        });
        const data = await resp.text();
        var doc = document.createElement('div');
        doc.innerHTML = data;
        var htmlJobs = doc.querySelectorAll(jobsSelector);
        htmlJobs.forEach((elem) => {
        var job = {};
        //elem.querySelector(``).textContent.trim()
        job.title = elem.querySelector('').textContent.trim();
        job.url = elem.querySelector('').href.trim();
        job.reqid = elem.querySelector('').href.trim();
        //   //*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjjjj SOURCE AND LOCATIONjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj 

        job.source_location = elem.querySelector('').textContent.trim();
        let hq=""; // HEAD QUARTERS
        job.source_location=job.source_location||"";
        if((job.source_location.search(/remote|headquarter|head quarter/gmi)>-1)||(job.source_location=="")||(job.source_location.length>70)){job.location=hq;}else{
        job.location=(job.source_location)||hq; } //HEAD QUARTERS:
        job.location=job.location.replace(/\d/gi,"").replace(/\(\d+\)/g,"").replace(/ \([^)]*\) /g, "").replace(/\(.*?\)/g, '').replace(/<\/?[^>]+(>|$)/g, "").replace(/[^\w\s]/gi, '').replace(/ \{[^)]*\} /g, "").replace(/ \[[^)]*\] /g, "");
        // if(job.location.search(//gmi)>-1){job.location="";}

        job.dateposted_raw = elem.querySelector('').textContent.trim();
        job.dateclosed_raw = elem.querySelector('').textContent.trim();
        job.source_jobtype = elem.querySelector('').textContent.trim();
        job.source_salary = elem.querySelector('').textContent.trim();
        job.experience_required = elem.querySelector('').textContent.trim();
        job.source_benefit=elem.querySelector('').textContent.trim();
        job.source_empname = elem.querySelector('').textContent.trim();
        job.logo=elem.querySelector('').getAttribute("src").trim();

            var datess=elem.querySelector('').textContent.trim();
            // var datess=multiplesVariables(/Dateposted|DATEPOSTED/gmi,'li',tmp,false);
            if(datess!=undefined){
                //let dateposted_raw=formatDate(datess);
                // let dateposted_raw= getDateFormat(datess," ",1,0,2);
                // datess=datess.split('');
                // let dateposted_raw= datess[]+"/"+datess[]+"/"+datess[];

                if(validarFormatoFecha(dateposted_raw))job.dateposted_raw=dateposted_raw;
                // if(validarFormatoFecha(dateclosed_raw))job.dateclosed_raw=dateclosed_raw;
                }
                
        //     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ variables funcion â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  /*  
//*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjjjjj JOBTYPE jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj 
if(!job.source_jobtype) job.source_jobtype=buscOcurrenciaHTML(doc,null,"",/fulltime|full-time|part-time|full time|partime|parttime|part time|teilzeit|permanent|casual/gmi,false);
// //*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjj//EXPERIENCE REQUIRED jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj 
if(!job.experience_required){
let experience=[];  for (let li of doc.querySelectorAll("p,li")) {
    if (/years|year|month|Months|anni|ans|mesi|jaar|maand|aÃ±os|anno|jahre/i.test(li.textContent) && /experience|Experience|esperienza|expÃ©rience|werkervaring|experiencia|erfahrung/i.test(li.textContent)
      && /\d|one|two|three|four|five|six|seven|eight|nine|ten/gi.test(li.textContent))
      experience.push(li.textContent);
  }
  if(experience[0]!=undefined){job.experience_required=experience[0].replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF]\[U+2728])/g, '').trim();}
}
//*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjjjjj SALARY jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj 
//source salary   
if(!job.source_salary) {      
let source_salary=[];  for (let li of doc.querySelectorAll("p,li")) {
    if (/salary|Ã‰chelle de traitement|Hourly Range|payment|remuneration|salaire|paiement|salaire|salaris|uitbetaling|bezoldiging|Gehaltszahlung|GehaltsvergÃ¼tung/i.test(li.textContent) && /\$|Â¢|â‚¬/i.test(li.textContent)
      && /\d|one|two|three|four|five|six|seven|eight|nine|ten/gi.test(li.textContent))
      source_salary.push(li.textContent);
  }
  if(source_salary[0]!=undefined){job.source_salary=source_salary[0].replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF]\[U+2728])/g, '').trim();
if(job.source_salary)job.source_salary=job.source_salary.replace("Hourly Range:","").trim();}
} 
            
            //MULTIPLES VARIABLES (SENCILLO)
            
            
            // var x1=multiplesVariables(/PALABRA|palabra/gmi,'li',tmp,false);
            
            // var datess=multiplesVariables(/Dateposted|DATEPOSTED/gmi,'li',tmp,false);
            // if(datess!=undefined){
            //     //let dateposted_raw=formatDate(datess);
            //     let dateposted_raw= getDateFormat(datess," ",1,0,2);
            //     datess=datess.split('');
            //     let dateposted_raw= datess[]+"/"+datess[]+"/"+datess[];

            //     if(validarFormatoFecha(dateposted_raw))job.dateposted_raw=dateposted_raw;
            //     }
            
            // job.source_salary=multiplesVariables(/\$|salary|SALARY|Salary/gmi,'li',tmp,false);
            // job.source_jobtype=multiplesVariables(/JOBTYPE|jobtype|job type|Job Type/gmi,'li',tmp,false);
            // job.source_benefit=multiplesVariables(/BENEFIT|benefit|Benefit/gmi,'li',tmp,false);
            // job.logo=multiplesVariables(/logo/gmi,'li',tmp,false);
            //*/// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ



        jobs.push(job);
        })
        out["jobs"] = jobs;
        return out;
        } catch (err) {
        console.log(err)
        }
        })();
        function multiplesVariables(expReg,selector,contenedor,nextElementSibling){ // jjms
            var resultado
            let aux = Array.from(contenedor.querySelectorAll(selector)).filter(x => x.textContent.search(expReg) > -1);
            if(!nextElementSibling)aux[0]!=null ? resultado=aux[0].textContent.replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g, '').trim() : resultado=undefined;
            if(nextElementSibling)aux[0]!=null ? resultado=aux[0].nextElementSibling.textContent.replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g, '').trim() : resultado=undefined;
            return resultado;
        }
        
        function validarFormatoFecha(campo) {
            var RegExPattern = /^\d{1,2}\/\d{1,2}\/\d{2,4}$/;
            if ((campo.match(RegExPattern)) && (campo!='')) {
                  return true;
            } else {
                  return false;
            }
          }
          function getDateFormat(dateRaw, cut, dayPosition, monthPosition, yearPosition) {
            if(dateRaw.indexOf(",")>-1){     
             let commas = dateRaw.match(/\,/g).length;
               if(commas == 1){dateRaw = dateRaw.replace(/\,/g,"").trim();}
            }
            if(dateRaw.indexOf(".")>-1){
               let periods = dateRaw.match(/\./g).length;
               if(periods == 1){dateRaw = dateRaw.replace(/\./g,"").trim();}
            }
             let day   = dateRaw.split(cut)[dayPosition].trim(), 
                 month = dateRaw.split(cut)[monthPosition].trim(), 
                 year  = dateRaw.split(cut)[yearPosition].trim();
        
                 day = day.replace(/nd|rd|st|th/gi,"").trim();    
              if(day < 10 && day.length < 2){day = "0" + day;}
              if(year.length == 2){year = "20" + year;}
         
             if(dateRaw.search(/[a-z]/gi)>-1){//English, German, Dutch, French, Portuguese 
                 if(month.search(/jan/i)>-1){month = "01";}
                 if(month.search(/feb|fÃ©v/i)>-1){month = "02";}
                 if(month.search(/mar|maar/i)>-1){month = "03";}
                 if(month.search(/apr|avr/i)>-1){month = "04";}
                 if(month.search(/may|mai|mei/i)>-1){month = "05";}
                 if(month.search(/jun|juin/i)>-1){month = "06";}
                 if(month.search(/jul|juil/i)>-1){month = "07";}
                 if(month.search(/aug|aoÃ»t/i)>-1){month = "08";}
                 if(month.search(/sep/i)>-1){month = "09";}
                 if(month.search(/oct|okt/i)>-1){month = "10";}
                 if(month.search(/nov/i)>-1){month = "11";}
                 if(month.search(/dec|dÃ©c/i)>-1){month = "12";}
             }
        let datum = month +"/"+  day +"/"+ year;
         return datum;
        }


//  =Limpiar(elementoaLimpiar,"formatDate-","isDate-","addCero-","splitFecha-","borrar este texto","numeros-","letras-","agrupaciones-","caracteresEspeciales-","correoUrl-","emogis-","anular si existe esta expresion regular","splitInicio_pop","splitFin_shift","splitUndefined-Y")

function Limpiar(elementoaLimpiar,formatDate,isDate,addCero,splitFecha,texto,numeros,letras,agrupaciones,caracteresEspeciales,correoUrl,emogis,anular,splitInicio_pop,splitFin_shift,splitUndefined){ // jjms
    var elementoLimpio="";
    function validarFormatoFecha(campo) {
        var RegExPattern = /^\d{1,2}\/\d{1,2}\/\d{2,4}$/;
        if ((campo.match(RegExPattern)) && (campo!='')) {
              return true;
        } else {
              return false;
        }
      }
      function addCero(fecha,splitearCon){
        var nDate=[];
        var nuevaFecha="";
        var tt;

        for(let j=0;j<3;j++){
            tt=fecha.split(splitearCon)[j].trim()
            if(tt.length<2){
                for (let i=1;i<10; i++){
                    tt= tt.replace(i,"0"+i).replace(/[^\w\s]/gi, '').trim();
                }
            }else{
                tt.replace(/[^\w\s]/gi, '').trim();
            }
                
            nDate.push(tt);
            }
        nuevaFecha=nDate.join("/");
        return nuevaFecha;
    }
    if(elementoaLimpiar){
        if(correoUrl=="correoUrl-Y"){ 
            
                if (elementoaLimpiar.indexOf('https') > -1) { elementoaLimpiar = elementoaLimpiar.replace(/(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");} 
                if (elementoaLimpiar.indexOf('http') > -1) {   elementoaLimpiar = elementoaLimpiar.replace(/(http?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");}  
                if (elementoaLimpiar.indexOf('HTTP') > -1) { elementoaLimpiar = elementoaLimpiar.replace(/(HTTP?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");  }
                if (elementoaLimpiar.indexOf('HTTPS') > -1) { elementoaLimpiar = elementoaLimpiar.replace(/(HTTPS?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");}
                if (elementoaLimpiar.indexOf('www') > -1)  { elementoaLimpiar = elementoaLimpiar.replace(/(www?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");  }
                elementoaLimpiar=elementoaLimpiar.replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g, '').trim(); 
                elementoLimpio=elementoaLimpiar;
                if (elementoaLimpiar.indexOf('@') > -1) {  
                    elementoLimpio = elementoaLimpiar?.replace(/\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+/gi,"");  } 
                if(elementoLimpio)elementoaLimpiar=elementoLimpio;
        }
        if(emogis=="emogis-Y"){
            elementoLimpio=elementoaLimpiar.replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g, '').trim(); 
            elementoaLimpiar=elementoLimpio;
        }
        if(numeros=="numeros-Y"){
            elementoLimpio=elementoaLimpiar.replaceAll(/\d/gmi,"");
            elementoaLimpiar=elementoLimpio;
        }

        if(letras=="letras-Y"){
            elementoLimpio=elementoaLimpiar.replaceAll(/\D/g,"");
            elementoaLimpiar=elementoLimpio;
        }
        if(caracteresEspeciales=="caracteresEspeciales-Y"){
            elementoLimpio=elementoaLimpiar.replaceAll(/[^\w\s]/gi, '');
            elementoaLimpiar=elementoLimpio;
        }
        if(texto!="borrar este texto"){
            elementoLimpio=elementoaLimpiar.replaceAll(texto, '');
            elementoaLimpiar=elementoLimpio;
        }
        if(agrupaciones=="agrupaciones-Y"){
            elementoLimpio=elementoaLimpiar.replace(/ \([^)]*\) /g, "")
            .replace(/\(.*?\)/g, '')
            .replace(/<\/?[^>]+(>|$)/g, "")
            .replace(/ \{[^)]*\} /g, "")
            .replace(/ \[[^)]*\] /g, "")
            .replace(/\(\d+\)/g,"")
            elementoaLimpiar=elementoLimpio;
        }
        if((splitInicio_pop!="splitInicio_pop" || splitFin_shift!="splitFin_shift" ) && splitUndefined=="splitUndefined-F"){
                if(splitInicio_pop!="splitInicio_pop" && splitFin_shift=="splitFin_shift"){
                    if(elementoaLimpiar.search(splitInicio_pop)>-1){
                    elementoLimpio=elementoaLimpiar.split(splitInicio_pop).pop();  
                    }else{
                        elementoLimpio=elementoaLimpiar;
                    } 
                }
                if(splitInicio_pop=="splitInicio_pop" && splitFin_shift!="splitFin_shift"){
                    if(elementoaLimpiar.search(splitFin_shift)>-1){
                    elementoLimpio=elementoaLimpiar.split(splitFin_shift).shift();   
                    }else{
                        elementoLimpio=elementoaLimpiar
                    }
                }
                if(splitInicio_pop!="splitInicio_pop" && splitFin_shift!="splitFin_shift"){ 
                    if((elementoaLimpiar.search(splitInicio_pop)>-1) && (elementoaLimpiar.search(splitFin_shift)>-1))
                    {
                    elementoLimpio=elementoaLimpiar.split(splitInicio_pop).pop().split(splitFin_shift).shift(); 
                    }else{
                        elementoLimpio=elementoaLimpiar;
                    }
                }
            }
            if((splitInicio_pop!="splitInicio_pop" || splitFin_shift!="splitFin_shift" ) && splitUndefined=="splitUndefined-Y"){
                if(splitInicio_pop!="splitInicio_pop" && splitFin_shift=="splitFin_shift"){
                    if(elementoaLimpiar.search(splitInicio_pop)>-1){
                    elementoLimpio=elementoaLimpiar.split(splitInicio_pop).pop();  
                    }else{
                        return undefined;
                    } 
                }
                if(splitInicio_pop=="splitInicio_pop" && splitFin_shift!="splitFin_shift"){
                    if(elementoaLimpiar.search(splitFin_shift)>-1){
                    elementoLimpio=elementoaLimpiar.split(splitFin_shift).shift();   
                    }else{
                        return undefined
                    }
                }
                if(splitInicio_pop!="splitInicio_pop" && splitFin_shift!="splitFin_shift"){ 
                    if((elementoaLimpiar.search(splitInicio_pop)>-1) && (elementoaLimpiar.search(splitFin_shift)>-1))
                    {
                    elementoLimpio=elementoaLimpiar.split(splitInicio_pop).pop().split(splitFin_shift).shift(); 
                    }else{
                        return undefined;
                    }
                }
            }

        if(formatDate=="formatDate-Y"){   
            const formatDate = (value) => {
            let date = new Date(value);
            const withCero = n => n < 10 ? `0${n}` : n;
            return `${withCero(date.getMonth()+1)}/${withCero(date.getDate())}/${date.getFullYear()}`;
            }
            let datess=formatDate(elementoaLimpiar);
            if(validarFormatoFecha(datess))elementoLimpio=datess;
        }
        if(addCero=="addCero-Y"){
            let  date0=addCero(elementoaLimpiar,splitFecha);
            if(validarFormatoFecha(date0))elementoLimpio=date0;

        }
        if(isDate=="isDate-Y"){
            if(validarFormatoFecha(elementoaLimpiar)){
                elementoaLimpiar=addCero(elementoaLimpiar,"/");
                elementoLimpio=elementoaLimpiar;
            }else{
                return undefined;
            }
        }    
        if(anular!="anular si existe esta expresion regular"){
            if(elementoaLimpiar.search(anular)>-1)  return undefined;
        }


        elementoLimpio=elementoLimpio==""?undefined:elementoLimpio.trim();
        return elementoLimpio;
    }else{
        return undefined;
    }
}







// buscOcurrenciaHTML(document.body,null,"",/uno|dos/gmi,false);
function buscOcurrenciaHTML(contenedor,selector,string,expR,verHTML) { // jjms
    let resultado;
    let revisar;

    if(contenedor!=null && selector!=null){
        revisar=contenedor?.querySelector(selector)?.innerHTML;
        if(verHTML)return revisar;
        if(revisar?.match(expR)?.length){
        resultado=revisar?.match(expR)[0];
        }
        }else{
            if(contenedor!=null && selector==null){
                revisar=contenedor?.innerHTML;
                if(verHTML)return revisar;
                if(revisar?.match(expR)?.length){
                resultado=revisar?.match(expR)[0];
                }

            }else{
                if(verHTML)return string;}
                if(string?.match(expR)?.length){
                resultado=string?.match(expR)[0];
        }
    }
     return resultado;
}






   

ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³
        //FETCH JOBDATA sin decoder  

    
    (async () => {
        let out = {};
        var job = {};
        var selector = ``;
            const remove_selectors = [
        'a',
        'i',
        'img',
        'svg',
        'link',
        'iframe',
        'form',
        'noscript',
        'figure',
        'video',
        'button',
        'input',
        'style',
        'javascript',
        'script',
    ];
        if (typeof cleanHTML == "undefined") cleanHTML = function(x) {
        return x
      };
      if (typeof msg == "undefined") msg = console.log;
    //var job = pass_it["job"];
    
        try {
            const url = window.location.href
            const resp = await fetch(url, {
                "headers": {
                    "accept": "*/*"
                }
            });
            const data = await resp.text();
            const parseDoc = new DOMParser();
            const doc = parseDoc.parseFromString(data, 'text/html');
            if (!!doc.querySelector(selector)) {
                
                
                //     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ variables directas â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  /*  
//   //*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjjjj SOURCE AND LOCATIONjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj 

// job.source_location = elem.querySelector('').textContent.trim();
// let hq=""; // HEAD QUARTERS
// job.source_location=job.source_location||"";
// if((job.source_location.search(/remote|headquarter|head quarter/gmi)>-1)||(job.source_location=="")||(job.source_location.length>70)){job.location=hq;}else{
// job.location=(job.source_location)||hq; } //HEAD QUARTERS:
// job.location=job.location.replace(/\d/gi,"").replace(/\(\d+\)/g,"").replace(/ \([^)]*\) /g, "").replace(/\(.*?\)/g, '').replace(/<\/?[^>]+(>|$)/g, "").replace(/[^\w\s]/gi, '').replace(/ \{[^)]*\} /g, "").replace(/ \[[^)]*\] /g, "");
// // if(job.location.search(//gmi)>-1){job.location="";}

//*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjjjjj JOBTYPE jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj 
if(!job.source_jobtype) job.source_jobtype=buscOcurrenciaHTML(doc,null,"",/fulltime|full-time|part-time|full time|partime|parttime|part time|teilzeit|permanent|casual/gmi,false);
// //*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjj//EXPERIENCE REQUIRED jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj 
if(!job.experience_required){
let experience=[];  for (let li of doc.querySelectorAll("p,li")) {
    if (/years|year|month|Months|anni|ans|mesi|jaar|maand|aÃ±os|anno|jahre/i.test(li.textContent) && /experience|Experience|esperienza|expÃ©rience|werkervaring|experiencia|erfahrung/i.test(li.textContent)
      && /\d|one|two|three|four|five|six|seven|eight|nine|ten/gi.test(li.textContent))
      experience.push(li.textContent);
  }
  if(experience[0]!=undefined){job.experience_required=experience[0].replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF]\[U+2728])/g, '').trim();}
}
//*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjjjjj SALARY jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj 
//source salary   
if(!job.source_salary) {      
let source_salary=[];  for (let li of doc.querySelectorAll("p,li")) {
    if (/salary|Ã‰chelle de traitement|Hourly Range|payment|remuneration|salaire|paiement|salaire|salaris|uitbetaling|bezoldiging|Gehaltszahlung|GehaltsvergÃ¼tung/i.test(li.textContent) && /\$|Â¢|â‚¬/i.test(li.textContent)
      && /\d|one|two|three|four|five|six|seven|eight|nine|ten/gi.test(li.textContent))
      source_salary.push(li.textContent);
  }
  if(source_salary[0]!=undefined){job.source_salary=source_salary[0].replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF]\[U+2728])/g, '').trim();
if(job.source_salary)job.source_salary=job.source_salary.replace("Hourly Range:","").trim();}
}   
            
            //MULTIPLES VARIABLES (SENCILLO)
            
            
            // var x1=multiplesVariables(/PALABRA|palabra/gmi,'li',document,false);
            
            // var datess=multiplesVariables(/Dateposted|DATEPOSTED/gmi,'li',document,false);
            // // job.dateposted_raw=formatDate(job.dateposted_raw);
            // // if(datess!='No encontrado')datess=datess.split('');
            // // job.dateposted_raw= datess[]+"/"+datess[]+"/"+datess[];
            
            // job.source_salary=multiplesVariables(/\$|salary|SALARY|Salary/gmi,'li',document,false);
            // job.source_jobtype=multiplesVariables(/JOBTYPE|jobtype|job type|Job Type/gmi,'li',document,false);
            // job.source_benefit=multiplesVariables(/BENEFIT|benefit|Benefit/gmi,'li',document,false);
             // job.logo=multiplesVariables(/logo/gmi,'li',document,false);
            
            //*/// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ


            var full_html = doc.querySelector(selector);
            //if (full_html) {
                // remove something from the jobdatata
                if (remove_selectors.length > 0) remove_selectors.forEach(remove_selector => {
                    if (full_html.querySelector(remove_selector)) full_html.querySelector(remove_selector).remove();
                });

                job.html = full_html.innerHTML.trim();
                //limpieza de las descripciones
                //job.html = removeTextBefore(job.html, ``, false);
                //job.html = removeTextAfter(job.html, ``, true);
                //job.html = removeTextAfter(job.html, ``, true);
                //job.html = removeTextAfter(job.html, ``, true);
                job.html=Limpiar(job.html,"formatDate-","isDate-","addCero-","splitFecha-","borrar este texto","numeros-","letras-","agrupaciones-","caracteresEspeciales-","correoUrl-Y","emogis-Y","anular si existe esta expresion regular","splitInicio_pop","splitFin_shift","splitUndefined-Y");
                job.html = cleanHTML(job.html);
                var tmp = document.createElement('div');
                tmp.innerHTML = job.html;
                                      //     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ variables tmp â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  /* 
            // //   //*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjjjj SOURCE AND LOCATIONjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj 

            // job.source_location = elem.querySelector('').textContent.trim();
            // let hq=""; // HEAD QUARTERS
            // job.source_location=job.source_location||"";
            // if((job.source_location.search(/remote|headquarter|head quarter/gmi)>-1)||(job.source_location=="")||(job.source_location.length>70)){job.location=hq;}else{
            // job.location=(job.source_location)||hq; } //HEAD QUARTERS:
            // job.location=job.location.replace(/\d/gi,"").replace(/\(\d+\)/g,"").replace(/ \([^)]*\) /g, "").replace(/\(.*?\)/g, '').replace(/<\/?[^>]+(>|$)/g, "").replace(/[^\w\s]/gi, '').replace(/ \{[^)]*\} /g, "").replace(/ \[[^)]*\] /g, "");
            // // if(job.location.search(//gmi)>-1){job.location="";}

            // //EXPERIENCE REQUIRED          
            // let experience=[];  for (let li of tmp.querySelectorAll("p,li")) {
            //     if (/years|year|month|Months|anni|ans|mesi|jaar|maand|aÃ±os|anno|jahre/i.test(li.textContent) && /experience|Experience|esperienza|expÃ©rience|werkervaring|experiencia|erfahrung/i.test(li.textContent)
            //       && /\d|one|two|three|four|five|six|seven|eight|nine|ten/gi.test(li.textContent))
            //       experience.push(li.textContent);
            //   }
            //   if(experience[0]!=undefined)job.experience_required=experience[0].replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF]\[U+2728])/g, '').trim();
            // //*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj   
            
            //MULTIPLES VARIABLES (SENCILLO)
            
            
            // var x1=multiplesVariables(/PALABRA|palabra/gmi,'li',tmp,false);
            
            // var datess=multiplesVariables(/Dateposted|DATEPOSTED/gmi,'li',tmp,false);
            // // job.dateposted_raw=formatDate(job.dateposted_raw);
            // // if(datess!='No encontrado')datess=datess.split('');
            // // job.dateposted_raw= datess[]+"/"+datess[]+"/"+datess[];
            
            // job.source_salary=multiplesVariables(/\$|salary|SALARY|Salary/gmi,'li',tmp,false);
            // job.source_jobtype=multiplesVariables(/JOBTYPE|jobtype|job type|Job Type/gmi,'li',tmp,false);
            // job.source_benefit=multiplesVariables(/BENEFIT|benefit|Benefit/gmi,'li',tmp,false);
            
            //*/// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
                job.jobdesc = tmp.textContent.trim();
                job.jobdesc = cleanHTML(job.jobdesc);
                // job.source_benefit=Limpiar(job.jobdesc,"formatDate-","isDate-","addCero-","splitFecha-","borrar este texto","numeros-","letras-","agrupaciones-","caracteresEspeciales-","correoUrl-","emogis-","anular si existe esta expresion regular","splitInicio_pop","splitFin_shift","splitUndefined-Y");
                

                
 
            }else
                  {
                  msg("sin selector");
                  }
        } catch (err) {
            console.log(err)
        }
        out["job"] = job;
        printJob(job);
        console.table(job);
        return out;
      })();
      function removeTextBefore(html, text, flag) {
        var newHtml = html;
        if (newHtml.indexOf(text) > -1) {
            newHtml = newHtml.split(text).pop();
            if (!flag) {
                newHtml = "<h3>" + text + "</h3>" + newHtml;
            }
        }
        return newHtml;
      }
      function removeTextAfter(html, text, flag) {
        var newHtml = html;
        if (newHtml.indexOf(text) > -1) {
            newHtml = newHtml.split(text).shift();
            if (!flag) {
                newHtml = newHtml + "<p>" + text + "</p>";
            }
        }
        return newHtml;
      }
      

      function printJob(job) {
        let claves = Object.keys(job);
        msg(`\n \x1b[31m INICIO JOB.....\x1b[39m`)
        for (let i = 0; i < claves.length; i++) {
            let clave = claves[i];
            if (claves[i] == "jobdesc" || claves[i] == "html") {
                continue
            }
            msg(`${"\x1b[32m"+claves[i]}:`)
            msg(job[clave])
        }
        msg(`\x1b[31m FIN JOB.....\n \x1b[39m`)
    }
    
      
      function multiplesVariables(expReg,selector,contenedor,nextElementSibling){ // jjms
        var resultado
        let aux = Array.from(contenedor.querySelectorAll(selector)).filter(x => x.textContent.search(expReg) > -1);
        if(!nextElementSibling)aux[0]!=null ? resultado=aux[0].textContent.replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g, '').trim() : resultado=undefined;
        if(nextElementSibling)aux[0]!=null ? resultado=aux[0].nextElementSibling.textContent.replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g, '').trim() : resultado=undefined;
        return resultado;
    }


    function validarFormatoFecha(campo) {
        var RegExPattern = /^\d{1,2}\/\d{1,2}\/\d{2,4}$/;
        if ((campo.match(RegExPattern)) && (campo!='')) {
              return true;
        } else {
              return false;
        }
      }


      function getDateFormat(dateRaw, cut, dayPosition, monthPosition, yearPosition) {
        if(dateRaw.indexOf(",")>-1){     
         let commas = dateRaw.match(/\,/g).length;
           if(commas == 1){dateRaw = dateRaw.replace(/\,/g,"").trim();}
        }
        if(dateRaw.indexOf(".")>-1){
           let periods = dateRaw.match(/\./g).length;
           if(periods == 1){dateRaw = dateRaw.replace(/\./g,"").trim();}
        }
         let day   = dateRaw.split(cut)[dayPosition].trim(), 
             month = dateRaw.split(cut)[monthPosition].trim(), 
             year  = dateRaw.split(cut)[yearPosition].trim();
    
             day = day.replace(/nd|rd|st|th/gi,"").trim();    
          if(day < 10 && day.length < 2){day = "0" + day;}
          if(year.length == 2){year = "20" + year;}
     
         if(dateRaw.search(/[a-z]/gi)>-1){//English, German, Dutch, French, Portuguese 
             if(month.search(/jan/i)>-1){month = "01";}
             if(month.search(/feb|fÃ©v/i)>-1){month = "02";}
             if(month.search(/mar|maar/i)>-1){month = "03";}
             if(month.search(/apr|avr/i)>-1){month = "04";}
             if(month.search(/may|mai|mei/i)>-1){month = "05";}
             if(month.search(/jun|juin/i)>-1){month = "06";}
             if(month.search(/jul|juil/i)>-1){month = "07";}
             if(month.search(/aug|aoÃ»t/i)>-1){month = "08";}
             if(month.search(/sep/i)>-1){month = "09";}
             if(month.search(/oct|okt/i)>-1){month = "10";}
             if(month.search(/nov/i)>-1){month = "11";}
             if(month.search(/dec|dÃ©c/i)>-1){month = "12";}
         }
    let datum = month +"/"+  day +"/"+ year;
     return datum;
    }

//  =Limpiar(elementoaLimpiar,"formatDate-","isDate-","addCero-","splitFecha-","borrar este texto","numeros-","letras-","agrupaciones-","caracteresEspeciales-","correoUrl-","emogis-","anular si existe esta expresion regular","splitInicio_pop","splitFin_shift","splitUndefined-Y")

function Limpiar(elementoaLimpiar,formatDate,isDate,addCero,splitFecha,texto,numeros,letras,agrupaciones,caracteresEspeciales,correoUrl,emogis,anular,splitInicio_pop,splitFin_shift,splitUndefined){ // jjms
    var elementoLimpio="";
    function validarFormatoFecha(campo) {
        var RegExPattern = /^\d{1,2}\/\d{1,2}\/\d{2,4}$/;
        if ((campo.match(RegExPattern)) && (campo!='')) {
              return true;
        } else {
              return false;
        }
      }
      function addCero(fecha,splitearCon){
        var nDate=[];
        var nuevaFecha="";
        var tt;

        for(let j=0;j<3;j++){
            tt=fecha.split(splitearCon)[j].trim()
            if(tt.length<2){
                for (let i=1;i<10; i++){
                    tt= tt.replace(i,"0"+i).replace(/[^\w\s]/gi, '').trim();
                }
            }else{
                tt.replace(/[^\w\s]/gi, '').trim();
            }
                
            nDate.push(tt);
            }
        nuevaFecha=nDate.join("/");
        return nuevaFecha;
    }
    if(elementoaLimpiar){
        if(correoUrl=="correoUrl-Y"){ 
            
                if (elementoaLimpiar.indexOf('https') > -1) { elementoaLimpiar = elementoaLimpiar.replace(/(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");} 
                if (elementoaLimpiar.indexOf('http') > -1) {   elementoaLimpiar = elementoaLimpiar.replace(/(http?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");}  
                if (elementoaLimpiar.indexOf('HTTP') > -1) { elementoaLimpiar = elementoaLimpiar.replace(/(HTTP?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");  }
                if (elementoaLimpiar.indexOf('HTTPS') > -1) { elementoaLimpiar = elementoaLimpiar.replace(/(HTTPS?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");}
                if (elementoaLimpiar.indexOf('www') > -1)  { elementoaLimpiar = elementoaLimpiar.replace(/(www?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");  }
                elementoaLimpiar=elementoaLimpiar.replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g, '').trim(); 
                elementoLimpio=elementoaLimpiar;
                if (elementoaLimpiar.indexOf('@') > -1) {  
                    elementoLimpio = elementoaLimpiar?.replace(/\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+/gi,"");  } 
                if(elementoLimpio)elementoaLimpiar=elementoLimpio;
        }
        if(emogis=="emogis-Y"){
            elementoLimpio=elementoaLimpiar.replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g, '').trim(); 
            elementoaLimpiar=elementoLimpio;
        }
        if(numeros=="numeros-Y"){
            elementoLimpio=elementoaLimpiar.replaceAll(/\d/gmi,"");
            elementoaLimpiar=elementoLimpio;
        }

        if(letras=="letras-Y"){
            elementoLimpio=elementoaLimpiar.replaceAll(/\D/g,"");
            elementoaLimpiar=elementoLimpio;
        }
        if(caracteresEspeciales=="caracteresEspeciales-Y"){
            elementoLimpio=elementoaLimpiar.replaceAll(/[^\w\s]/gi, '');
            elementoaLimpiar=elementoLimpio;
        }
        if(texto!="borrar este texto"){
            elementoLimpio=elementoaLimpiar.replaceAll(texto, '');
            elementoaLimpiar=elementoLimpio;
        }
        if(agrupaciones=="agrupaciones-Y"){
            elementoLimpio=elementoaLimpiar.replace(/ \([^)]*\) /g, "")
            .replace(/\(.*?\)/g, '')
            .replace(/<\/?[^>]+(>|$)/g, "")
            .replace(/ \{[^)]*\} /g, "")
            .replace(/ \[[^)]*\] /g, "")
            .replace(/\(\d+\)/g,"")
            elementoaLimpiar=elementoLimpio;
        }
        if((splitInicio_pop!="splitInicio_pop" || splitFin_shift!="splitFin_shift" ) && splitUndefined=="splitUndefined-F"){
                if(splitInicio_pop!="splitInicio_pop" && splitFin_shift=="splitFin_shift"){
                    if(elementoaLimpiar.search(splitInicio_pop)>-1){
                    elementoLimpio=elementoaLimpiar.split(splitInicio_pop).pop();  
                    }else{
                        elementoLimpio=elementoaLimpiar;
                    } 
                }
                if(splitInicio_pop=="splitInicio_pop" && splitFin_shift!="splitFin_shift"){
                    if(elementoaLimpiar.search(splitFin_shift)>-1){
                    elementoLimpio=elementoaLimpiar.split(splitFin_shift).shift();   
                    }else{
                        elementoLimpio=elementoaLimpiar
                    }
                }
                if(splitInicio_pop!="splitInicio_pop" && splitFin_shift!="splitFin_shift"){ 
                    if((elementoaLimpiar.search(splitInicio_pop)>-1) && (elementoaLimpiar.search(splitFin_shift)>-1))
                    {
                    elementoLimpio=elementoaLimpiar.split(splitInicio_pop).pop().split(splitFin_shift).shift(); 
                    }else{
                        elementoLimpio=elementoaLimpiar;
                    }
                }
            }
            if((splitInicio_pop!="splitInicio_pop" || splitFin_shift!="splitFin_shift" ) && splitUndefined=="splitUndefined-Y"){
                if(splitInicio_pop!="splitInicio_pop" && splitFin_shift=="splitFin_shift"){
                    if(elementoaLimpiar.search(splitInicio_pop)>-1){
                    elementoLimpio=elementoaLimpiar.split(splitInicio_pop).pop();  
                    }else{
                        return undefined;
                    } 
                }
                if(splitInicio_pop=="splitInicio_pop" && splitFin_shift!="splitFin_shift"){
                    if(elementoaLimpiar.search(splitFin_shift)>-1){
                    elementoLimpio=elementoaLimpiar.split(splitFin_shift).shift();   
                    }else{
                        return undefined
                    }
                }
                if(splitInicio_pop!="splitInicio_pop" && splitFin_shift!="splitFin_shift"){ 
                    if((elementoaLimpiar.search(splitInicio_pop)>-1) && (elementoaLimpiar.search(splitFin_shift)>-1))
                    {
                    elementoLimpio=elementoaLimpiar.split(splitInicio_pop).pop().split(splitFin_shift).shift(); 
                    }else{
                        return undefined;
                    }
                }
            }

        if(formatDate=="formatDate-Y"){   
            const formatDate = (value) => {
            let date = new Date(value);
            const withCero = n => n < 10 ? `0${n}` : n;
            return `${withCero(date.getMonth()+1)}/${withCero(date.getDate())}/${date.getFullYear()}`;
            }
            let datess=formatDate(elementoaLimpiar);
            if(validarFormatoFecha(datess))elementoLimpio=datess;
        }
        if(addCero=="addCero-Y"){
            let  date0=addCero(elementoaLimpiar,splitFecha);
            if(validarFormatoFecha(date0))elementoLimpio=date0;

        }
        if(isDate=="isDate-Y"){
            if(validarFormatoFecha(elementoaLimpiar)){
                elementoaLimpiar=addCero(elementoaLimpiar,"/");
                elementoLimpio=elementoaLimpiar;
            }else{
                return undefined;
            }
        }    
        if(anular!="anular si existe esta expresion regular"){
            if(elementoaLimpiar.search(anular)>-1)  return undefined;
        }


        elementoLimpio=elementoLimpio==""?undefined:elementoLimpio.trim();
        return elementoLimpio;
    }else{
        return undefined;
    }
}


// buscOcurrenciaHTML(document.body,null,"",/uno|dos/gmi,false);
function buscOcurrenciaHTML(contenedor,selector,string,expR,verHTML) { // jjms
    let resultado;
    let revisar;

    if(contenedor!=null && selector!=null){
        revisar=contenedor?.querySelector(selector)?.innerHTML;
        if(verHTML)return revisar;
        if(revisar?.match(expR)?.length){
        resultado=revisar?.match(expR)[0];
        }
        }else{
            if(contenedor!=null && selector==null){
                revisar=contenedor?.innerHTML;
                if(verHTML)return revisar;
                if(revisar?.match(expR)?.length){
                resultado=revisar?.match(expR)[0];
                }

            }else{
                if(verHTML)return string;}
                if(string?.match(expR)?.length){
                resultado=string?.match(expR)[0];
        }
    }
     return resultado;
}








ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³
     // DOBLE-fetch 


      //Extract
      (async () => {
        const out = {};
        const jobs = [];
        out.pass_it=pass_it;
            const url = window.location.href
            const resp = await fetch(url, {
            "headers": {}
            });
        const html = await resp.text();
        const div = document.createElement("div");
        div.innerHTML = html;
        const html_jobs = div.querySelectorAll('div#pro-gallery-margin-container')[0].querySelectorAll('div[class="gallery-item-container visible hover-animation-fade-in"]');
        // out.pass_it.jobsPerPage=25;
        // out.pass_it.jobsInPage = html_jobs.length;
        // msg('jobsPerPage: '+out.pass_it.jobsPerPage+' jobsInPage'+out.pass_it.jobsInPage);
        for (let x in html_jobs) {
            if (typeof html_jobs[x] == "function") continue;
            if (typeof html_jobs[x] == "number") continue;
            let job = {};
            let elem = html_jobs[x];
            //////EXTRACTING VARIABLES///////
            job.title = elem.querySelector('').textContent.trim();
            job.url = elem.querySelector('').href.trim();
            job.reqid = elem.querySelector('').href.trim();
            //   //*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjjjj SOURCE AND LOCATIONjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj 

            job.source_location = elem.querySelector('').textContent.trim();
            let hq=""; // HEAD QUARTERS
            job.source_location=job.source_location||"";
            if((job.source_location.search(/remote|headquarter|head quarter/gmi)>-1)||(job.source_location=="")||(job.source_location.length>70)){job.location=hq;}else{
            job.location=(job.source_location)||hq; } //HEAD QUARTERS:
            job.location=job.location.replace(/\d/gi,"").replace(/\(\d+\)/g,"").replace(/ \([^)]*\) /g, "").replace(/\(.*?\)/g, '').replace(/<\/?[^>]+(>|$)/g, "").replace(/[^\w\s]/gi, '').replace(/ \{[^)]*\} /g, "").replace(/ \[[^)]*\] /g, "");
            // if(job.location.search(//gmi)>-1){job.location="";}

            job.dateposted_raw = elem.querySelector('').textContent.trim();
            job.dateclosed_raw = elem.querySelector('').textContent.trim();
            job.source_jobtype = elem.querySelector('').textContent.trim();
            job.source_salary = elem.querySelector('').textContent.trim();
            job.experience_required = elem.querySelector('').textContent.trim();
            job.source_benefit=elem.querySelector('').textContent.trim();
            job.source_empname = elem.querySelector('').textContent.trim();
            job.logo=elem.querySelector('').getAttribute("src").trim();

            var datess=elem.querySelector('').textContent.trim();
            // var datess=multiplesVariables(/Dateposted|DATEPOSTED/gmi,'li',tmp,false);
            if(datess!=undefined){
                //let dateposted_raw=formatDate(datess);
                // let dateposted_raw= getDateFormat(datess," ",1,0,2);
                // datess=datess.split('');
                // let dateposted_raw= datess[]+"/"+datess[]+"/"+datess[];

                if(validarFormatoFecha(dateposted_raw))job.dateposted_raw=dateposted_raw;
                // if(validarFormatoFecha(dateclosed_raw))job.dateclosed_raw=dateclosed_raw;
                }
    
    
            job.temp = 1;
            
    //     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ DESCRIPCION â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  /*
    
              var selector = `selector de la descripcion`;
                  const remove_selectors = [
    'a',
    'i',
    'img',
    'svg',
    'link',
    'iframe',
    'form',
    'noscript',
    'figure',
    'video',
    'button',
    'input',
    'style',
    'javascript',
    'script',
];
              const resp2 = await fetch(job.url, {
                    "headers": {
                        "accept": "*/*"
                    }
            });
              const data = await resp2.text();
              const parseDoc = new DOMParser();
              const doc = parseDoc.parseFromString(data, 'text/html')
              
            //     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ variables del doc â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  /*  
            // //   //*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjjjj SOURCE AND LOCATIONjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj 

            // job.source_location = elem.querySelector('').textContent.trim();
            // let hq=""; // HEAD QUARTERS
            // job.source_location=job.source_location||"";
            // if((job.source_location.search(/remote|headquarter|head quarter/gmi)>-1)||(job.source_location=="")||(job.source_location.length>70)){job.location=hq;}else{
            // job.location=(job.source_location)||hq; } //HEAD QUARTERS:
            // job.location=job.location.replace(/\d/gi,"").replace(/\(\d+\)/g,"").replace(/ \([^)]*\) /g, "").replace(/\(.*?\)/g, '').replace(/<\/?[^>]+(>|$)/g, "").replace(/[^\w\s]/gi, '').replace(/ \{[^)]*\} /g, "").replace(/ \[[^)]*\] /g, "");
            // // if(job.location.search(//gmi)>-1){job.location="";}
            
//*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjjjjj JOBTYPE jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj 
if(!job.source_jobtype) job.source_jobtype=buscOcurrenciaHTML(doc,null,"",/fulltime|full-time|part-time|full time|partime|parttime|part time|teilzeit|permanent|casual/gmi,false);
// //*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjj//EXPERIENCE REQUIRED jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj 
if(!job.experience_required){
let experience=[];  for (let li of doc.querySelectorAll("p,li")) {
    if (/years|year|month|Months|anni|ans|mesi|jaar|maand|aÃ±os|anno|jahre/i.test(li.textContent) && /experience|Experience|esperienza|expÃ©rience|werkervaring|experiencia|erfahrung/i.test(li.textContent)
      && /\d|one|two|three|four|five|six|seven|eight|nine|ten/gi.test(li.textContent))
      experience.push(li.textContent);
  }
  if(experience[0]!=undefined){job.experience_required=experience[0].replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF]\[U+2728])/g, '').trim();}
}
//*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjjjjj SALARY jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj 
//source salary   
if(!job.source_salary) {      
let source_salary=[];  for (let li of doc.querySelectorAll("p,li")) {
    if (/salary|Ã‰chelle de traitement|Hourly Range|payment|remuneration|salaire|paiement|salaire|salaris|uitbetaling|bezoldiging|Gehaltszahlung|GehaltsvergÃ¼tung/i.test(li.textContent) && /\$|Â¢|â‚¬/i.test(li.textContent)
      && /\d|one|two|three|four|five|six|seven|eight|nine|ten/gi.test(li.textContent))
      source_salary.push(li.textContent);
  }
  if(source_salary[0]!=undefined){job.source_salary=source_salary[0].replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF]\[U+2728])/g, '').trim();
if(job.source_salary)job.source_salary=job.source_salary.replace("Hourly Range:","").trim();}
} 
            
            //MULTIPLES VARIABLES (SENCILLO)
            
            
            // var x1=multiplesVariables(/PALABRA|palabra/gmi,'li',doc,false);
            
            // var datess=multiplesVariables(/Dateposted|DATEPOSTED/gmi,'li',doc,false);
            // // job.dateposted_raw=formatDate(job.dateposted_raw);
            // // if(datess!='No encontrado')datess=datess.split('');
            // // job.dateposted_raw= datess[]+"/"+datess[]+"/"+datess[];
            
            // job.source_salary=multiplesVariables(/\$|salary|SALARY|Salary/gmi,'li',doc,false);
            // job.source_jobtype=multiplesVariables(/JOBTYPE|jobtype|job type|Job Type/gmi,'li',doc,false);
            // job.source_benefit=multiplesVariables(/BENEFIT|benefit|Benefit/gmi,'li',doc,false);
            
            //*/// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ              
              
              
              var full_html = doc.querySelector(selector);
              if (full_html) {
                  // remove something from the jobdatata
                  if (remove_selectors.length > 0){
                      for (let x in remove_selectors){
                          if (full_html.querySelector(remove_selectors[x])) full_html.querySelector(remove_selectors[x]).remove();
                      }
                  }
                  
                  if (typeof cleanHTML == "undefined") cleanHTML = function(x) {
                      return x
                  };
                  if (typeof msg == "undefined") msg = console.log;
                  job.html = full_html.innerHTML.trim();
                  //limpieza de las descripciones
                  //job.html = removeTextBefore(job.html, ``, false);
                  //job.html = removeTextAfter(job.html, ``, true);
                  //job.html = removeTextAfter(job.html, ``, true);
                  //job.html = removeTextAfter(job.html, ``, true);
                  
                  
                  job.html=Limpiar(job.html,"formatDate-","isDate-","addCero-","splitFecha-","borrar este texto","numeros-","letras-","agrupaciones-","caracteresEspeciales-","correoUrl-Y","emogis-Y","anular si existe esta expresion regular","splitInicio_pop","splitFin_shift","splitUndefined-Y");
              
              
                  
                  job.html = cleanHTML(job.html);
                  var tmp = document.createElement('div');
                  tmp.innerHTML = job.html;
                                        //     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ variables tmp â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  /*  
        // job.source_location = tmp.querySelector('').textContent.trim();
        // job.source_location=job.source_location||"";
        // job.location=(job.source_location)||"HEAD QUARTERS";   //HEAD QUARTERS:

            // //EXPERIENCE REQUIRED          
            // let experience=[];  for (let li of tmp.querySelectorAll("p,li")) {
            //     if (/years|year|month|Months|anni|ans|mesi|jaar|maand|aÃ±os|anno|jahre/i.test(li.textContent) && /experience|Experience|esperienza|expÃ©rience|werkervaring|experiencia|erfahrung/i.test(li.textContent)
            //       && /\d|one|two|three|four|five|six|seven|eight|nine|ten/gi.test(li.textContent))
            //       experience.push(li.textContent);
            //   }
            //   if(experience[0]!=undefined)job.experience_required=experience[0].replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF]\[U+2728])/g, '').trim();;
            // //*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj   
            
            //MULTIPLES VARIABLES (SENCILLO)
            
            
            // var x1=multiplesVariables(/PALABRA|palabra/gmi,'li',tmp,false);
            
            // var datess=multiplesVariables(/Dateposted|DATEPOSTED/gmi,'li',tmp,false);
            // // job.dateposted_raw=formatDate(job.dateposted_raw);
            // // if(datess!='No encontrado')datess=datess.split('');
            // // job.dateposted_raw= datess[]+"/"+datess[]+"/"+datess[];
            
            // job.source_salary=multiplesVariables(/\$|salary|SALARY|Salary/gmi,'li',tmp,false);
            // job.source_jobtype=multiplesVariables(/JOBTYPE|jobtype|job type|Job Type/gmi,'li',tmp,false);
            // job.source_benefit=multiplesVariables(/BENEFIT|benefit|Benefit/gmi,'li',tmp,false);
            
            //*/// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
                  job.jobdesc = tmp.textContent.trim();
                  job.jobdesc = cleanHTML(job.jobdesc);
                  //// jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj
                    //     //BENEFIT DESDE EL JOB.JOBDESC                           
                    // let inicioBenefit=''; let finBenefit='';
                    // if((job.jobdesc.search(inicioBenefit)>-1) && (job.jobdesc.search(finBenefit)>-1))job.source_benefit=job.jobdesc.split(inicioBenefit).pop().split(finBenefit).shift().trim(); 
                    // // jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj
              }
    
    //*/// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
    
            job.temp = 1;
            jobs.push(job);
        }
        //out.pass_it.counter +=1;
        out.jobs = jobs;
        return out;
    })();
    
    
        function removeTextBefore(html, text, flag) {
          var newHtml = html;
          if (newHtml.indexOf(text) > -1) {
              newHtml = newHtml.split(text).pop();
              if (!flag) {
                  newHtml = "<h3>" + text + "</h3>" + newHtml;
              }
          }
          return newHtml;
        }
        function removeTextAfter(html, text, flag) {
          var newHtml = html;
          if (newHtml.indexOf(text) > -1) {
              newHtml = newHtml.split(text).shift();
              if (!flag) {
                  newHtml = newHtml + "<p>" + text + "</p>";
              }
          }
          return newHtml;
        }
        
        function multiplesVariables(expReg,selector,contenedor,nextElementSibling){ // jjms
            var resultado
            let aux = Array.from(contenedor.querySelectorAll(selector)).filter(x => x.textContent.search(expReg) > -1);
            if(!nextElementSibling)aux[0]!=null ? resultado=aux[0].textContent.replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g, '').trim() : resultado=undefined;
            if(nextElementSibling)aux[0]!=null ? resultado=aux[0].nextElementSibling.textContent.replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g, '').trim() : resultado=undefined;
            return resultado;
        }

    function validarFormatoFecha(campo) {
        var RegExPattern = /^\d{1,2}\/\d{1,2}\/\d{2,4}$/;
        if ((campo.match(RegExPattern)) && (campo!='')) {
              return true;
        } else {
              return false;
        }
      }


      function getDateFormat(dateRaw, cut, dayPosition, monthPosition, yearPosition) {
        if(dateRaw.indexOf(",")>-1){     
         let commas = dateRaw.match(/\,/g).length;
           if(commas == 1){dateRaw = dateRaw.replace(/\,/g,"").trim();}
        }
        if(dateRaw.indexOf(".")>-1){
           let periods = dateRaw.match(/\./g).length;
           if(periods == 1){dateRaw = dateRaw.replace(/\./g,"").trim();}
        }
         let day   = dateRaw.split(cut)[dayPosition].trim(), 
             month = dateRaw.split(cut)[monthPosition].trim(), 
             year  = dateRaw.split(cut)[yearPosition].trim();
    
             day = day.replace(/nd|rd|st|th/gi,"").trim();    
          if(day < 10 && day.length < 2){day = "0" + day;}
          if(year.length == 2){year = "20" + year;}
     
         if(dateRaw.search(/[a-z]/gi)>-1){//English, German, Dutch, French, Portuguese 
             if(month.search(/jan/i)>-1){month = "01";}
             if(month.search(/feb|fÃ©v/i)>-1){month = "02";}
             if(month.search(/mar|maar/i)>-1){month = "03";}
             if(month.search(/apr|avr/i)>-1){month = "04";}
             if(month.search(/may|mai|mei/i)>-1){month = "05";}
             if(month.search(/jun|juin/i)>-1){month = "06";}
             if(month.search(/jul|juil/i)>-1){month = "07";}
             if(month.search(/aug|aoÃ»t/i)>-1){month = "08";}
             if(month.search(/sep/i)>-1){month = "09";}
             if(month.search(/oct|okt/i)>-1){month = "10";}
             if(month.search(/nov/i)>-1){month = "11";}
             if(month.search(/dec|dÃ©c/i)>-1){month = "12";}
         }
    let datum = month +"/"+  day +"/"+ year;
     return datum;
    }

//  =Limpiar(elementoaLimpiar,"formatDate-","isDate-","addCero-","splitFecha-","borrar este texto","numeros-","letras-","agrupaciones-","caracteresEspeciales-","correoUrl-","emogis-","anular si existe esta expresion regular","splitInicio_pop","splitFin_shift","splitUndefined-Y")

function Limpiar(elementoaLimpiar,formatDate,isDate,addCero,splitFecha,texto,numeros,letras,agrupaciones,caracteresEspeciales,correoUrl,emogis,anular,splitInicio_pop,splitFin_shift,splitUndefined){ // jjms
    var elementoLimpio="";
    function validarFormatoFecha(campo) {
        var RegExPattern = /^\d{1,2}\/\d{1,2}\/\d{2,4}$/;
        if ((campo.match(RegExPattern)) && (campo!='')) {
              return true;
        } else {
              return false;
        }
      }
      function addCero(fecha,splitearCon){
        var nDate=[];
        var nuevaFecha="";
        var tt;

        for(let j=0;j<3;j++){
            tt=fecha.split(splitearCon)[j].trim()
            if(tt.length<2){
                for (let i=1;i<10; i++){
                    tt= tt.replace(i,"0"+i).replace(/[^\w\s]/gi, '').trim();
                }
            }else{
                tt.replace(/[^\w\s]/gi, '').trim();
            }
                
            nDate.push(tt);
            }
        nuevaFecha=nDate.join("/");
        return nuevaFecha;
    }
    if(elementoaLimpiar){
        if(correoUrl=="correoUrl-Y"){ 
            
                if (elementoaLimpiar.indexOf('https') > -1) { elementoaLimpiar = elementoaLimpiar.replace(/(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");} 
                if (elementoaLimpiar.indexOf('http') > -1) {   elementoaLimpiar = elementoaLimpiar.replace(/(http?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");}  
                if (elementoaLimpiar.indexOf('HTTP') > -1) { elementoaLimpiar = elementoaLimpiar.replace(/(HTTP?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");  }
                if (elementoaLimpiar.indexOf('HTTPS') > -1) { elementoaLimpiar = elementoaLimpiar.replace(/(HTTPS?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");}
                if (elementoaLimpiar.indexOf('www') > -1)  { elementoaLimpiar = elementoaLimpiar.replace(/(www?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");  }
                elementoaLimpiar=elementoaLimpiar.replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g, '').trim(); 
                elementoLimpio=elementoaLimpiar;
                if (elementoaLimpiar.indexOf('@') > -1) {  
                    elementoLimpio = elementoaLimpiar?.replace(/\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+/gi,"");  } 
                if(elementoLimpio)elementoaLimpiar=elementoLimpio;
        }
        if(emogis=="emogis-Y"){
            elementoLimpio=elementoaLimpiar.replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g, '').trim(); 
            elementoaLimpiar=elementoLimpio;
        }
        if(numeros=="numeros-Y"){
            elementoLimpio=elementoaLimpiar.replaceAll(/\d/gmi,"");
            elementoaLimpiar=elementoLimpio;
        }

        if(letras=="letras-Y"){
            elementoLimpio=elementoaLimpiar.replaceAll(/\D/g,"");
            elementoaLimpiar=elementoLimpio;
        }
        if(caracteresEspeciales=="caracteresEspeciales-Y"){
            elementoLimpio=elementoaLimpiar.replaceAll(/[^\w\s]/gi, '');
            elementoaLimpiar=elementoLimpio;
        }
        if(texto!="borrar este texto"){
            elementoLimpio=elementoaLimpiar.replaceAll(texto, '');
            elementoaLimpiar=elementoLimpio;
        }
        if(agrupaciones=="agrupaciones-Y"){
            elementoLimpio=elementoaLimpiar.replace(/ \([^)]*\) /g, "")
            .replace(/\(.*?\)/g, '')
            .replace(/<\/?[^>]+(>|$)/g, "")
            .replace(/ \{[^)]*\} /g, "")
            .replace(/ \[[^)]*\] /g, "")
            .replace(/\(\d+\)/g,"")
            elementoaLimpiar=elementoLimpio;
        }
        if((splitInicio_pop!="splitInicio_pop" || splitFin_shift!="splitFin_shift" ) && splitUndefined=="splitUndefined-F"){
                if(splitInicio_pop!="splitInicio_pop" && splitFin_shift=="splitFin_shift"){
                    if(elementoaLimpiar.search(splitInicio_pop)>-1){
                    elementoLimpio=elementoaLimpiar.split(splitInicio_pop).pop();  
                    }else{
                        elementoLimpio=elementoaLimpiar;
                    } 
                }
                if(splitInicio_pop=="splitInicio_pop" && splitFin_shift!="splitFin_shift"){
                    if(elementoaLimpiar.search(splitFin_shift)>-1){
                    elementoLimpio=elementoaLimpiar.split(splitFin_shift).shift();   
                    }else{
                        elementoLimpio=elementoaLimpiar
                    }
                }
                if(splitInicio_pop!="splitInicio_pop" && splitFin_shift!="splitFin_shift"){ 
                    if((elementoaLimpiar.search(splitInicio_pop)>-1) && (elementoaLimpiar.search(splitFin_shift)>-1))
                    {
                    elementoLimpio=elementoaLimpiar.split(splitInicio_pop).pop().split(splitFin_shift).shift(); 
                    }else{
                        elementoLimpio=elementoaLimpiar;
                    }
                }
            }
            if((splitInicio_pop!="splitInicio_pop" || splitFin_shift!="splitFin_shift" ) && splitUndefined=="splitUndefined-Y"){
                if(splitInicio_pop!="splitInicio_pop" && splitFin_shift=="splitFin_shift"){
                    if(elementoaLimpiar.search(splitInicio_pop)>-1){
                    elementoLimpio=elementoaLimpiar.split(splitInicio_pop).pop();  
                    }else{
                        return undefined;
                    } 
                }
                if(splitInicio_pop=="splitInicio_pop" && splitFin_shift!="splitFin_shift"){
                    if(elementoaLimpiar.search(splitFin_shift)>-1){
                    elementoLimpio=elementoaLimpiar.split(splitFin_shift).shift();   
                    }else{
                        return undefined
                    }
                }
                if(splitInicio_pop!="splitInicio_pop" && splitFin_shift!="splitFin_shift"){ 
                    if((elementoaLimpiar.search(splitInicio_pop)>-1) && (elementoaLimpiar.search(splitFin_shift)>-1))
                    {
                    elementoLimpio=elementoaLimpiar.split(splitInicio_pop).pop().split(splitFin_shift).shift(); 
                    }else{
                        return undefined;
                    }
                }
            }

        if(formatDate=="formatDate-Y"){   
            const formatDate = (value) => {
            let date = new Date(value);
            const withCero = n => n < 10 ? `0${n}` : n;
            return `${withCero(date.getMonth()+1)}/${withCero(date.getDate())}/${date.getFullYear()}`;
            }
            let datess=formatDate(elementoaLimpiar);
            if(validarFormatoFecha(datess))elementoLimpio=datess;
        }
        if(addCero=="addCero-Y"){
            let  date0=addCero(elementoaLimpiar,splitFecha);
            if(validarFormatoFecha(date0))elementoLimpio=date0;

        }
        if(isDate=="isDate-Y"){
            if(validarFormatoFecha(elementoaLimpiar)){
                elementoaLimpiar=addCero(elementoaLimpiar,"/");
                elementoLimpio=elementoaLimpiar;
            }else{
                return undefined;
            }
        }    
        if(anular!="anular si existe esta expresion regular"){
            if(elementoaLimpiar.search(anular)>-1)  return undefined;
        }


        elementoLimpio=elementoLimpio==""?undefined:elementoLimpio.trim();
        return elementoLimpio;
    }else{
        return undefined;
    }
}







// buscOcurrenciaHTML(document.body,null,"",/uno|dos/gmi,false);
function buscOcurrenciaHTML(contenedor,selector,string,expR,verHTML) { // jjms
    let resultado;
    let revisar;

    if(contenedor!=null && selector!=null){
        revisar=contenedor?.querySelector(selector)?.innerHTML;
        if(verHTML)return revisar;
        if(revisar?.match(expR)?.length){
        resultado=revisar?.match(expR)[0];
        }
        }else{
            if(contenedor!=null && selector==null){
                revisar=contenedor?.innerHTML;
                if(verHTML)return revisar;
                if(revisar?.match(expR)?.length){
                resultado=revisar?.match(expR)[0];
                }

            }else{
                if(verHTML)return string;}
                if(string?.match(expR)?.length){
                resultado=string?.match(expR)[0];
        }
    }
     return resultado;
}





ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³
//JSON FETCH 


//fetch limpia 
(async () => {
    let out = {};
    //   // JJJJJJ// FORMAT DATE JJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJ
// const formatDate = (value) => {
//     let date = new Date(value);
//     const withCero = n => n < 10 ? `0${n}` : n;
//     return `${withCero(date.getMonth()+1)}/${withCero(date.getDate())}/${date.getFullYear()}`;
//   }
//   // JJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJ
    //  out["pass_it"] = pass_it;
    if (typeof cleanHTML == "undefined") cleanHTML = function(x) {
        return x
    };
    if (typeof msg == "undefined") msg = console.log;
    try {
        let jobs = [];
        const resp = await fetch("https://apiteams.goobee.com.br/api/publicavaga"+out.pass_it.counter+"/vagas/SITE_CADMUS", {
            "credentials": "omit",
            "headers": {
                "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:104.0) Gecko/20100101 Firefox/104.0",
                "Accept": "application/json, text/javascript, */*; q=0.01",
                "Accept-Language": "es-ES,es;q=0.8,en-US;q=0.5,en;q=0.3",
                "Content-Type": "application/json",
                "Sec-Fetch-Dest": "empty",
                "Sec-Fetch-Mode": "cors",
                "Sec-Fetch-Site": "cross-site"
            },
            "referrer": "https://cadmus.com.br/",
            "method": "GET",
            "mode": "cors"
        });
        const data = await resp.json();
        // out.pass_it.jobsPerPage=20;
        // out.pass_it.jobsInPage = contenedor.length;
        // msg('jobsPerPage: '+out.pass_it.jobsPerPage+' jobsInPage'+out.pass_it.jobsInPage);
        for(let x = 0 ; x < data.contenedor.length ; x++){ //poner el contenedor de  los jobs
            let elem = data.contenedor[x];  //poner tambien el contenedor de los jobs
            let job = {};
 
            job.title = elem.     ;
            job.url = elem.     ;
            job.reqid = elem.     ;
            job.source_location = elem.     ;

            //   //*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjjjj SOURCE AND LOCATIONjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj 

            let hq=""; // HEAD QUARTERS
            job.source_location=job.source_location||"";
            if((job.source_location.search(/remote|headquarter|head quarter/gmi)>-1)||(job.source_location=="")||(job.source_location.length>70)){job.location=hq;}else{
            job.location=(job.source_location)||hq; } //HEAD QUARTERS:
            job.location=job.location.replace(/\d/gi,"").replace(/\(\d+\)/g,"").replace(/ \([^)]*\) /g, "").replace(/\(.*?\)/g, '').replace(/<\/?[^>]+(>|$)/g, "").replace(/[^\w\s]/gi, '').replace(/ \{[^)]*\} /g, "").replace(/ \[[^)]*\] /g, "");
            // if(job.location.search(//gmi)>-1){job.location="";}

            job.dateposted_raw = elem.     ;
            job.dateclosed_raw = elem.     ;
            job.source_jobtype = elem.     ;
            job.source_salary = elem.     ;
            job.experience_required = elem.     ;
            job.source_benefit=elem.     ;
            job.source_empname = elem.     ;
            job.logo = elem.     ;

            var datess=elem.    ;
            // var datess=multiplesVariables(/Dateposted|DATEPOSTED/gmi,'li',tmp.false);
            if(datess!=undefined){
                //let dateposted_raw=formatDate(datess);
                // let dateposted_raw= getDateFormat(datess," ",1,0,2);
                // datess=datess.split('');
                // let dateposted_raw= datess[]+"/"+datess[]+"/"+datess[];

                if(validarFormatoFecha(dateposted_raw))job.dateposted_raw=dateposted_raw;
                // if(validarFormatoFecha(dateclosed_raw))job.dateclosed_raw=dateclosed_raw;
                }

            job.temp = 44545;
            jobs.push(job)
        }
        //descomentar si se usarÃ¡ un html
        // const data = await resp.text();
        // const parseDoc = new DOMParser();
        // const doc = parseDoc.parseFromString(data, 'text/html')
        out["jobs"] = jobs;
        return out;
    } catch (err) {
        throw err;
    }
})();
function getDateFormat(dateRaw, cut, dayPosition, monthPosition, yearPosition) {
    if(dateRaw.indexOf(",")>-1){     
     let commas = dateRaw.match(/\,/g).length;
       if(commas == 1){dateRaw = dateRaw.replace(/\,/g,"").trim();}
    }
    if(dateRaw.indexOf(".")>-1){
       let periods = dateRaw.match(/\./g).length;
       if(periods == 1){dateRaw = dateRaw.replace(/\./g,"").trim();}
    }
     let day   = dateRaw.split(cut)[dayPosition].trim(), 
         month = dateRaw.split(cut)[monthPosition].trim(), 
         year  = dateRaw.split(cut)[yearPosition].trim();

         day = day.replace(/nd|rd|st|th/gi,"").trim();    
      if(day < 10 && day.length < 2){day = "0" + day;}
      if(year.length == 2){year = "20" + year;}
 
     if(dateRaw.search(/[a-z]/gi)>-1){//English, German, Dutch, French, Portuguese 
         if(month.search(/jan/i)>-1){month = "01";}
         if(month.search(/feb|fÃ©v/i)>-1){month = "02";}
         if(month.search(/mar|maar/i)>-1){month = "03";}
         if(month.search(/apr|avr/i)>-1){month = "04";}
         if(month.search(/may|mai|mei/i)>-1){month = "05";}
         if(month.search(/jun|juin/i)>-1){month = "06";}
         if(month.search(/jul|juil/i)>-1){month = "07";}
         if(month.search(/aug|aoÃ»t/i)>-1){month = "08";}
         if(month.search(/sep/i)>-1){month = "09";}
         if(month.search(/oct|okt/i)>-1){month = "10";}
         if(month.search(/nov/i)>-1){month = "11";}
         if(month.search(/dec|dÃ©c/i)>-1){month = "12";}
     }
let datum = month +"/"+  day +"/"+ year;
 return datum;
}

function validarFormatoFecha(campo) {
    var RegExPattern = /^\d{1,2}\/\d{1,2}\/\d{2,4}$/;
    if ((campo.match(RegExPattern)) && (campo!='')) {
          return true;
    } else {
          return false;
    }
  }
//  =Limpiar(elementoaLimpiar,"formatDate-","isDate-","addCero-","splitFecha-","borrar este texto","numeros-","letras-","agrupaciones-","caracteresEspeciales-","correoUrl-","emogis-","anular si existe esta expresion regular","splitInicio_pop","splitFin_shift","splitUndefined-Y")

function Limpiar(elementoaLimpiar,formatDate,isDate,addCero,splitFecha,texto,numeros,letras,agrupaciones,caracteresEspeciales,correoUrl,emogis,anular,splitInicio_pop,splitFin_shift,splitUndefined){ // jjms
    var elementoLimpio="";
    function validarFormatoFecha(campo) {
        var RegExPattern = /^\d{1,2}\/\d{1,2}\/\d{2,4}$/;
        if ((campo.match(RegExPattern)) && (campo!='')) {
              return true;
        } else {
              return false;
        }
      }
      function addCero(fecha,splitearCon){
        var nDate=[];
        var nuevaFecha="";
        var tt;

        for(let j=0;j<3;j++){
            tt=fecha.split(splitearCon)[j].trim()
            if(tt.length<2){
                for (let i=1;i<10; i++){
                    tt= tt.replace(i,"0"+i).replace(/[^\w\s]/gi, '').trim();
                }
            }else{
                tt.replace(/[^\w\s]/gi, '').trim();
            }
                
            nDate.push(tt);
            }
        nuevaFecha=nDate.join("/");
        return nuevaFecha;
    }
    if(elementoaLimpiar){
        if(correoUrl=="correoUrl-Y"){ 
            
                if (elementoaLimpiar.indexOf('https') > -1) { elementoaLimpiar = elementoaLimpiar.replace(/(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");} 
                if (elementoaLimpiar.indexOf('http') > -1) {   elementoaLimpiar = elementoaLimpiar.replace(/(http?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");}  
                if (elementoaLimpiar.indexOf('HTTP') > -1) { elementoaLimpiar = elementoaLimpiar.replace(/(HTTP?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");  }
                if (elementoaLimpiar.indexOf('HTTPS') > -1) { elementoaLimpiar = elementoaLimpiar.replace(/(HTTPS?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");}
                if (elementoaLimpiar.indexOf('www') > -1)  { elementoaLimpiar = elementoaLimpiar.replace(/(www?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");  }
                elementoaLimpiar=elementoaLimpiar.replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g, '').trim(); 
                elementoLimpio=elementoaLimpiar;
                if (elementoaLimpiar.indexOf('@') > -1) {  
                    elementoLimpio = elementoaLimpiar?.replace(/\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+/gi,"");  } 
                if(elementoLimpio)elementoaLimpiar=elementoLimpio;
        }
        if(emogis=="emogis-Y"){
            elementoLimpio=elementoaLimpiar.replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g, '').trim(); 
            elementoaLimpiar=elementoLimpio;
        }
        if(numeros=="numeros-Y"){
            elementoLimpio=elementoaLimpiar.replaceAll(/\d/gmi,"");
            elementoaLimpiar=elementoLimpio;
        }

        if(letras=="letras-Y"){
            elementoLimpio=elementoaLimpiar.replaceAll(/\D/g,"");
            elementoaLimpiar=elementoLimpio;
        }
        if(caracteresEspeciales=="caracteresEspeciales-Y"){
            elementoLimpio=elementoaLimpiar.replaceAll(/[^\w\s]/gi, '');
            elementoaLimpiar=elementoLimpio;
        }
        if(texto!="borrar este texto"){
            elementoLimpio=elementoaLimpiar.replaceAll(texto, '');
            elementoaLimpiar=elementoLimpio;
        }
        if(agrupaciones=="agrupaciones-Y"){
            elementoLimpio=elementoaLimpiar.replace(/ \([^)]*\) /g, "")
            .replace(/\(.*?\)/g, '')
            .replace(/<\/?[^>]+(>|$)/g, "")
            .replace(/ \{[^)]*\} /g, "")
            .replace(/ \[[^)]*\] /g, "")
            .replace(/\(\d+\)/g,"")
            elementoaLimpiar=elementoLimpio;
        }
        if((splitInicio_pop!="splitInicio_pop" || splitFin_shift!="splitFin_shift" ) && splitUndefined=="splitUndefined-F"){
                if(splitInicio_pop!="splitInicio_pop" && splitFin_shift=="splitFin_shift"){
                    if(elementoaLimpiar.search(splitInicio_pop)>-1){
                    elementoLimpio=elementoaLimpiar.split(splitInicio_pop).pop();  
                    }else{
                        elementoLimpio=elementoaLimpiar;
                    } 
                }
                if(splitInicio_pop=="splitInicio_pop" && splitFin_shift!="splitFin_shift"){
                    if(elementoaLimpiar.search(splitFin_shift)>-1){
                    elementoLimpio=elementoaLimpiar.split(splitFin_shift).shift();   
                    }else{
                        elementoLimpio=elementoaLimpiar
                    }
                }
                if(splitInicio_pop!="splitInicio_pop" && splitFin_shift!="splitFin_shift"){ 
                    if((elementoaLimpiar.search(splitInicio_pop)>-1) && (elementoaLimpiar.search(splitFin_shift)>-1))
                    {
                    elementoLimpio=elementoaLimpiar.split(splitInicio_pop).pop().split(splitFin_shift).shift(); 
                    }else{
                        elementoLimpio=elementoaLimpiar;
                    }
                }
            }
            if((splitInicio_pop!="splitInicio_pop" || splitFin_shift!="splitFin_shift" ) && splitUndefined=="splitUndefined-Y"){
                if(splitInicio_pop!="splitInicio_pop" && splitFin_shift=="splitFin_shift"){
                    if(elementoaLimpiar.search(splitInicio_pop)>-1){
                    elementoLimpio=elementoaLimpiar.split(splitInicio_pop).pop();  
                    }else{
                        return undefined;
                    } 
                }
                if(splitInicio_pop=="splitInicio_pop" && splitFin_shift!="splitFin_shift"){
                    if(elementoaLimpiar.search(splitFin_shift)>-1){
                    elementoLimpio=elementoaLimpiar.split(splitFin_shift).shift();   
                    }else{
                        return undefined
                    }
                }
                if(splitInicio_pop!="splitInicio_pop" && splitFin_shift!="splitFin_shift"){ 
                    if((elementoaLimpiar.search(splitInicio_pop)>-1) && (elementoaLimpiar.search(splitFin_shift)>-1))
                    {
                    elementoLimpio=elementoaLimpiar.split(splitInicio_pop).pop().split(splitFin_shift).shift(); 
                    }else{
                        return undefined;
                    }
                }
            }

        if(formatDate=="formatDate-Y"){   
            const formatDate = (value) => {
            let date = new Date(value);
            const withCero = n => n < 10 ? `0${n}` : n;
            return `${withCero(date.getMonth()+1)}/${withCero(date.getDate())}/${date.getFullYear()}`;
            }
            let datess=formatDate(elementoaLimpiar);
            if(validarFormatoFecha(datess))elementoLimpio=datess;
        }
        if(addCero=="addCero-Y"){
            let  date0=addCero(elementoaLimpiar,splitFecha);
            if(validarFormatoFecha(date0))elementoLimpio=date0;

        }
        if(isDate=="isDate-Y"){
            if(validarFormatoFecha(elementoaLimpiar)){
                elementoaLimpiar=addCero(elementoaLimpiar,"/");
                elementoLimpio=elementoaLimpiar;
            }else{
                return undefined;
            }
        }    
        if(anular!="anular si existe esta expresion regular"){
            if(elementoaLimpiar.search(anular)>-1)  return undefined;
        }


        elementoLimpio=elementoLimpio==""?undefined:elementoLimpio.trim();
        return elementoLimpio;
    }else{
        return undefined;
    }
}






// buscOcurrenciaHTML(document.body,null,"",/uno|dos/gmi,false);
function buscOcurrenciaHTML(contenedor,selector,string,expR,verHTML) { // jjms
    let resultado;
    let revisar;

    if(contenedor!=null && selector!=null){
        revisar=contenedor?.querySelector(selector)?.innerHTML;
        if(verHTML)return revisar;
        if(revisar?.match(expR)?.length){
        resultado=revisar?.match(expR)[0];
        }
        }else{
            if(contenedor!=null && selector==null){
                revisar=contenedor?.innerHTML;
                if(verHTML)return revisar;
                if(revisar?.match(expR)?.length){
                resultado=revisar?.match(expR)[0];
                }

            }else{
                if(verHTML)return string;}
                if(string?.match(expR)?.length){
                resultado=string?.match(expR)[0];
        }
    }
     return resultado;
}




ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³
//     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  /*     
//*/// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ

ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³
//PASS_IT


//infinity
(() => {
    var out = {};
    out.pass_it = {
        "counter":0,
        "jobsPerPage":0,
        "jobsInPage":0
    }
    return out;
})()

//PAGINATION
(()=>{
    var out={};
    out.pass_it=pass_it;
    var { counter, jobsPerPage, jobsInPage } = out.pass_it;
    out.pass_it.counter+=jobsPerPage;
    out.has_next_page=jobsInPage==jobsPerPage?true:false;
    return out;
})()

         out.pass_it.jobsPerPage=20;
         out.pass_it.jobsInPage = contenedor.length;
         msg('jobsPerPage: '+out.pass_it.jobsPerPage+' jobsInPage'+out.pass_it.jobsInPage);

ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³
//ESPERAS


(function() {
    var out = {};
    out.waitFor = '';
  //   msg("Esperando 3 segundos..............");              
  //   out.wait = 3000;
  //   out["html"] = true;
  //   out["pic"] = true;

 // out.iframeSelector = "iframe#pcrframe";
 // out.iframeWaitFor = "div#jdesc";

    return out;
})();



ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³

//ðŸ³ðŸ³FRECUENTESðŸ³ðŸ³//getDateFormat() validarFormatoFecha formatDate


  function getDateFormat(dateRaw, cut, dayPosition, monthPosition, yearPosition) {
    dateRaw = dateRaw.replace(/\,/g,"").replace(/st|th|nd|rd/gi,'').trim();
  
    let day   =  dateRaw.split(cut)[dayPosition].trim(), 
        month =  dateRaw.split(cut)[monthPosition].trim(), 
        year  = dateRaw.split(cut)[yearPosition].trim();
  
    if (day < 10 && day.length < 2) {day = "0" + day;}
  
    if(dateRaw.search(/[a-z]/gi)>-1){ 
      if(month.search(/jan/i)>-1){month = "01";}
      if(month.search(/feb|fÃ©v/i)>-1){month = "02";}
      if(month.search(/mar|mÃ¤r/i)>-1){month = "03";}
      if(month.search(/apr|avr/i)>-1){month = "04";}
      if(month.search(/may|mai/i)>-1){month = "05";}
      if(month.search(/jun|juin/i)>-1){month = "06";}
      if(month.search(/jul|juil/i)>-1){month = "07";}
      if(month.search(/aug|aoÃ»t/i)>-1){month = "08";}
      if(month.search(/sep/i)>-1){month = "09";}
      if(month.search(/oct|okt/i)>-1){month = "10";}
      if(month.search(/nov/i)>-1){month = "11";}
      if(month.search(/dec|dez/i)>-1){month = "12";}
    }
  
    if (year < 100 && year.length < 3) {year = "20" + year;}
  
    var datum = month +"/"+  day +"/"+ year;
  
    return datum;
  }
    // JJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJ
  function validarFormatoFecha(campo) {
    var RegExPattern = /^\d{1,2}\/\d{1,2}\/\d{2,4}$/;
    if ((campo.match(RegExPattern)) && (campo!='')) {
          return true;
    } else {
          return false;
    }
  }
  // JJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJ
// FORMAT DATE


const formatDate = (value) => {
    let date = new Date(value);
    const withCero = n => n < 10 ? `0${n}` : n;
    return `${withCero(date.getMonth()+1)}/${withCero(date.getDate())}/${date.getFullYear()}`;
  }
  // JJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJ
  
ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³
//JOBDESCRIPTION BASICO


(function() {
    var out = {};
    var job = {};
    var selector = '';
    var selectorError="";
    var full_html;
    if(document?.querySelector(selector)){ full_html = document.querySelector(selector);} else{
        full_html=document?.querySelector(selectorError);
    }
    
    const remove_selectors = [
        'a',
        'i',
        'img',
        'svg',
        'link',
        'iframe',
        'form',
        'noscript',
        'figure',
        'video',
        'button',
        'input',
        'style',
        'javascript',
        'script',
    ];
    if (typeof cleanHTML == "undefined") cleanHTML = function(x) {
        return x
      };
      if (typeof msg == "undefined") msg = console.log;
    //var job = pass_it["job"];
//     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ variables directas â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  /*  
// //   //*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjjjj SOURCE AND LOCATIONjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj 

// job.source_location = elem.querySelector('').textContent.trim();
// let hq=""; // HEAD QUARTERS
// job.source_location=job.source_location||"";
// if((job.source_location.search(/remote|headquarter|head quarter/gmi)>-1)||(job.source_location=="")||(job.source_location.length>70)){job.location=hq;}else{
// job.location=(job.source_location)||hq; } //HEAD QUARTERS:
// job.location=job.location.replace(/\d/gi,"").replace(/\(\d+\)/g,"").replace(/ \([^)]*\) /g, "").replace(/\(.*?\)/g, '').replace(/<\/?[^>]+(>|$)/g, "").replace(/[^\w\s]/gi, '').replace(/ \{[^)]*\} /g, "").replace(/ \[[^)]*\] /g, "");
// // if(job.location.search(//gmi)>-1){job.location="";}

//*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjjjjj JOBTYPE jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj 
if(!job.source_jobtype) job.source_jobtype=buscOcurrenciaHTML(document.body,null,"",/fulltime|full-time|part-time|full time|partime|parttime|part time|teilzeit|permanent|casual/gmi,false);
// //*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjj//EXPERIENCE REQUIRED jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj 
if(!job.experience_required){
let experience=[];  for (let li of document.querySelectorAll("p,li")) {
    if (/years|year|month|Months|anni|ans|mesi|jaar|maand|aÃ±os|anno|jahre/i.test(li.textContent) && /experience|Experience|esperienza|expÃ©rience|werkervaring|experiencia|erfahrung/i.test(li.textContent)
      && /\d|one|two|three|four|five|six|seven|eight|nine|ten/gi.test(li.textContent))
      experience.push(li.textContent);
  }
  if(experience[0]!=undefined){job.experience_required=experience[0].replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF]\[U+2728])/g, '').trim();}
}
//*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjjjjj SALARY jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj 
//source salary   
if(!job.source_salary) {      
let source_salary=[];  for (let li of document.querySelectorAll("p,li")) {
    if (/salary|Ã‰chelle de traitement|Hourly Range|payment|remuneration|salaire|paiement|salaire|salaris|uitbetaling|bezoldiging|Gehaltszahlung|GehaltsvergÃ¼tung/i.test(li.textContent) && /\$|Â¢|â‚¬/i.test(li.textContent)
      && /\d|one|two|three|four|five|six|seven|eight|nine|ten/gi.test(li.textContent))
      source_salary.push(li.textContent);
  }
  if(source_salary[0]!=undefined){job.source_salary=source_salary[0].replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF]\[U+2728])/g, '').trim();
if(job.source_salary)job.source_salary=job.source_salary.replace("Hourly Range:","").trim();}
}  

//MULTIPLES VARIABLES (SENCILLO)


// var x1=multiplesVariables(/PALABRA|palabra/gmi,'li',document,false);

// var datess=multiplesVariables(/Dateposted|DATEPOSTED/gmi,'li',document,false);
// // job.dateposted_raw=formatDate(job.dateposted_raw);
// // if(datess!='No encontrado')datess=datess.split('');
// // job.dateposted_raw= datess[]+"/"+datess[]+"/"+datess[];

// job.source_salary=multiplesVariables(/\$|salary|SALARY|Salary/gmi,'li',document,false);
// job.source_jobtype=multiplesVariables(/JOBTYPE|jobtype|job type|Job Type/gmi,'li',document,false);
// job.source_benefit=multiplesVariables(/BENEFIT|benefit|Benefit/gmi,'li',document,false);

//*/// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ

    // var full_html = document.querySelector(selector);


    // full_html.find('div.claseaeliminar').remove().end().html();
    for (const a of full_html.querySelectorAll('a')) {
        a.remove(); //if you want to remove this selector
    }


    // remove something from the jobdatata
    if (remove_selectors.length > 0) remove_selectors.forEach(remove_selector => {
        if (full_html.querySelector(remove_selector)) full_html.querySelector(remove_selector).remove();
    });
    if (typeof cleanHTML == "undefined") cleanHTML = function(x) {
        return x
    };
    if (typeof msg == "undefined") msg = console.log;



    job.html = full_html.innerHTML.trim();
//*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjjjjj  DATE- POSTED jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj 
// var datess=multiplesVariables(/Dateposted|DATEPOSTED/gmi,'li',document,false);
// var datess=elem?.querySelector('')?.textContent.trim();
// var datess=multiplesVariables(/Dateposted|DATEPOSTED/gmi,'li',tmp);
let datess=undefined;
if(datess!=undefined){
    const formatDate = (value) => {
        let date = new Date(value);
        const withCero = n => n < 10 ? `0${n}` : n;
        return `${withCero(date.getMonth()+1)}/${withCero(date.getDate())}/${date.getFullYear()}`;
    }
    function validarFormatoFecha(campo) {
        var RegExPattern = /^\d{1,2}\/\d{1,2}\/\d{2,4}$/;
        if ((campo.match(RegExPattern)) && (campo!='')) {
              return true;
        } else {
              return false;
        }
      }
    //let dateposted_raw=formatDate(datess);
    // let dateposted_raw= getDateFormat(datess," ",1,0,2);
    // datess=datess.split('');
    // let dateposted_raw= datess[]+"/"+datess[]+"/"+datess[];
    if(validarFormatoFecha(dateposted_raw))job.dateposted_raw=dateposted_raw;
    // if(validarFormatoFecha(dateclosed_raw))job.dateclosed_raw=dateclosed_raw;
    }

    // job.html = removeTextBefore(job.html, '', false);
    // job.html = removeTextBefore(job.html, '', false);
    // job.html = removeTextBefore(job.html, '', false);

    // job.html = removeTextAfter(job.html, '', true);
    // job.html = removeTextAfter(job.html, '', true);
    // job.html = removeTextAfter(job.html, '', true);
    
    //job.html = job.html.split("").shift();
    //job.html = job.html.split("").shift();

    job.html=Limpiar(job.html,"formatDate-","isDate-","addCero-","splitFecha-","borrar este texto","numeros-","letras-","agrupaciones-","caracteresEspeciales-","correoUrl-Y","emogis-Y","anular si existe esta expresion regular","splitInicio_pop","splitFin_shift","splitUndefined-Y");
    
    job.html = cleanHTML(job.html);
    var tmp = document.createElement('div');
    tmp.innerHTML = job.html;
    job.jobdesc = tmp.textContent.trim();
    job.jobdesc = cleanHTML(job.jobdesc);

    if(!job.source_benefit)job.source_benefit=Limpiar(job.jobdesc,"formatDate-","isDate-","addCero-","splitFecha-","borrar este texto","numeros-","letras-","agrupaciones-","caracteresEspeciales-","correoUrl-Y","emogis-Y","anular si existe esta expresion regular","What we offer","Equitable Bank","splitUndefined-Y");

    out["job"] = job;
    printJob(job);
    return out;

})();

function removeTextBefore(html, text, flag) {
    var newHtml = html;
    if (newHtml.indexOf(text) > -1) {
        newHtml = newHtml.split(text).pop();
        if (!flag) {
            newHtml = "<h3>" + text + "</h3>" + newHtml;
        }
    }
    return newHtml;
}

function removeTextAfter(html, text, flag) {
    var newHtml = html;
    if (newHtml.indexOf(text) > -1) {
        newHtml = newHtml.split(text).shift();
        if (!flag) {
            newHtml = newHtml + "<p>" + text + "</p>";
        }
    }
    return newHtml;
}

// printJob(job);  // activar el msg en config
            

function printJob(job) {
    let claves = Object.keys(job);
    msg(`\n \x1b[31m INICIO JOB.....\x1b[39m`)
    for (let i = 0; i < claves.length; i++) {
        let clave = claves[i];
        if (claves[i] == "jobdesc" || claves[i] == "html") {
            continue
        }
        msg(`${"\x1b[32m"+claves[i]}:`)
        msg(job[clave])
    }
    msg(`\x1b[31m FIN JOB.....\n \x1b[39m`)
}

function multiplesVariables(expReg,selector,contenedor,nextElementSibling){ // jjms
    var resultado
    let aux = Array.from(contenedor.querySelectorAll(selector)).filter(x => x.textContent.search(expReg) > -1);
    if(!nextElementSibling)aux[0]!=null ? resultado=aux[0].textContent.replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g, '').trim() : resultado=undefined;
    if(nextElementSibling)aux[0]!=null ? resultado=aux[0].nextElementSibling.textContent.replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g, '').trim() : resultado=undefined;
    return resultado;
}




function getDateFormat(dateRaw, cut, dayPosition, monthPosition, yearPosition) {
    if(dateRaw.indexOf(",")>-1){     
     let commas = dateRaw.match(/\,/g).length;
       if(commas == 1){dateRaw = dateRaw.replace(/\,/g,"").trim();}
    }
    if(dateRaw.indexOf(".")>-1){
       let periods = dateRaw.match(/\./g).length;
       if(periods == 1){dateRaw = dateRaw.replace(/\./g,"").trim();}
    }
     let day   = dateRaw.split(cut)[dayPosition].trim(), 
         month = dateRaw.split(cut)[monthPosition].trim(), 
         year  = dateRaw.split(cut)[yearPosition].trim();

         day = day.replace(/nd|rd|st|th/gi,"").trim();    
      if(day < 10 && day.length < 2){day = "0" + day;}
      if(year.length == 2){year = "20" + year;}
 
     if(dateRaw.search(/[a-z]/gi)>-1){//English, German, Dutch, French, Portuguese 
         if(month.search(/jan/i)>-1){month = "01";}
         if(month.search(/feb|fÃ©v/i)>-1){month = "02";}
         if(month.search(/mar|maar/i)>-1){month = "03";}
         if(month.search(/apr|avr/i)>-1){month = "04";}
         if(month.search(/may|mai|mei/i)>-1){month = "05";}
         if(month.search(/jun|juin/i)>-1){month = "06";}
         if(month.search(/jul|juil/i)>-1){month = "07";}
         if(month.search(/aug|aoÃ»t/i)>-1){month = "08";}
         if(month.search(/sep/i)>-1){month = "09";}
         if(month.search(/oct|okt/i)>-1){month = "10";}
         if(month.search(/nov/i)>-1){month = "11";}
         if(month.search(/dec|dÃ©c/i)>-1){month = "12";}
     }
let datum = month +"/"+  day +"/"+ year;
 return datum;
}


//  =Limpiar(elementoaLimpiar,"formatDate-","isDate-","addCero-","splitFecha-","borrar este texto","numeros-","letras-","agrupaciones-","caracteresEspeciales-","correoUrl-","emogis-","anular si existe esta expresion regular","splitInicio_pop","splitFin_shift","splitUndefined-Y")

function Limpiar(elementoaLimpiar,formatDate,isDate,addCero,splitFecha,texto,numeros,letras,agrupaciones,caracteresEspeciales,correoUrl,emogis,anular,splitInicio_pop,splitFin_shift,splitUndefined){ // jjms
    var elementoLimpio="";
    function validarFormatoFecha(campo) {
        var RegExPattern = /^\d{1,2}\/\d{1,2}\/\d{2,4}$/;
        if ((campo.match(RegExPattern)) && (campo!='')) {
              return true;
        } else {
              return false;
        }
      }
      function addCero(fecha,splitearCon){
        var nDate=[];
        var nuevaFecha="";
        var tt;

        for(let j=0;j<3;j++){
            tt=fecha.split(splitearCon)[j].trim()
            if(tt.length<2){
                for (let i=1;i<10; i++){
                    tt= tt.replace(i,"0"+i).replace(/[^\w\s]/gi, '').trim();
                }
            }else{
                tt.replace(/[^\w\s]/gi, '').trim();
            }
                
            nDate.push(tt);
            }
        nuevaFecha=nDate.join("/");
        return nuevaFecha;
    }
    if(elementoaLimpiar){
        if(correoUrl=="correoUrl-Y"){ 
            
                if (elementoaLimpiar.indexOf('https') > -1) { elementoaLimpiar = elementoaLimpiar.replace(/(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");} 
                if (elementoaLimpiar.indexOf('http') > -1) {   elementoaLimpiar = elementoaLimpiar.replace(/(http?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");}  
                if (elementoaLimpiar.indexOf('HTTP') > -1) { elementoaLimpiar = elementoaLimpiar.replace(/(HTTP?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");  }
                if (elementoaLimpiar.indexOf('HTTPS') > -1) { elementoaLimpiar = elementoaLimpiar.replace(/(HTTPS?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");}
                if (elementoaLimpiar.indexOf('www') > -1)  { elementoaLimpiar = elementoaLimpiar.replace(/(www?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");  }
                elementoaLimpiar=elementoaLimpiar.replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g, '').trim(); 
                elementoLimpio=elementoaLimpiar;
                if (elementoaLimpiar.indexOf('@') > -1) {  
                    elementoLimpio = elementoaLimpiar?.replace(/\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+/gi,"");  } 
                if(elementoLimpio)elementoaLimpiar=elementoLimpio;
        }
        if(emogis=="emogis-Y"){
            elementoLimpio=elementoaLimpiar.replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g, '').trim(); 
            elementoaLimpiar=elementoLimpio;
        }
        if(numeros=="numeros-Y"){
            elementoLimpio=elementoaLimpiar.replaceAll(/\d/gmi,"");
            elementoaLimpiar=elementoLimpio;
        }

        if(letras=="letras-Y"){
            elementoLimpio=elementoaLimpiar.replaceAll(/\D/g,"");
            elementoaLimpiar=elementoLimpio;
        }
        if(caracteresEspeciales=="caracteresEspeciales-Y"){
            elementoLimpio=elementoaLimpiar.replaceAll(/[^\w\s]/gi, '');
            elementoaLimpiar=elementoLimpio;
        }
        if(texto!="borrar este texto"){
            elementoLimpio=elementoaLimpiar.replaceAll(texto, '');
            elementoaLimpiar=elementoLimpio;
        }
        if(agrupaciones=="agrupaciones-Y"){
            elementoLimpio=elementoaLimpiar.replace(/ \([^)]*\) /g, "")
            .replace(/\(.*?\)/g, '')
            .replace(/<\/?[^>]+(>|$)/g, "")
            .replace(/ \{[^)]*\} /g, "")
            .replace(/ \[[^)]*\] /g, "")
            .replace(/\(\d+\)/g,"")
            elementoaLimpiar=elementoLimpio;
        }
        if((splitInicio_pop!="splitInicio_pop" || splitFin_shift!="splitFin_shift" ) && splitUndefined=="splitUndefined-F"){
                if(splitInicio_pop!="splitInicio_pop" && splitFin_shift=="splitFin_shift"){
                    if(elementoaLimpiar.search(splitInicio_pop)>-1){
                    elementoLimpio=elementoaLimpiar.split(splitInicio_pop).pop();  
                    }else{
                        elementoLimpio=elementoaLimpiar;
                    } 
                }
                if(splitInicio_pop=="splitInicio_pop" && splitFin_shift!="splitFin_shift"){
                    if(elementoaLimpiar.search(splitFin_shift)>-1){
                    elementoLimpio=elementoaLimpiar.split(splitFin_shift).shift();   
                    }else{
                        elementoLimpio=elementoaLimpiar
                    }
                }
                if(splitInicio_pop!="splitInicio_pop" && splitFin_shift!="splitFin_shift"){ 
                    if((elementoaLimpiar.search(splitInicio_pop)>-1) && (elementoaLimpiar.search(splitFin_shift)>-1))
                    {
                    elementoLimpio=elementoaLimpiar.split(splitInicio_pop).pop().split(splitFin_shift).shift(); 
                    }else{
                        elementoLimpio=elementoaLimpiar;
                    }
                }
            }
            if((splitInicio_pop!="splitInicio_pop" || splitFin_shift!="splitFin_shift" ) && splitUndefined=="splitUndefined-Y"){
                if(splitInicio_pop!="splitInicio_pop" && splitFin_shift=="splitFin_shift"){
                    if(elementoaLimpiar.search(splitInicio_pop)>-1){
                    elementoLimpio=elementoaLimpiar.split(splitInicio_pop).pop();  
                    }else{
                        return undefined;
                    } 
                }
                if(splitInicio_pop=="splitInicio_pop" && splitFin_shift!="splitFin_shift"){
                    if(elementoaLimpiar.search(splitFin_shift)>-1){
                    elementoLimpio=elementoaLimpiar.split(splitFin_shift).shift();   
                    }else{
                        return undefined
                    }
                }
                if(splitInicio_pop!="splitInicio_pop" && splitFin_shift!="splitFin_shift"){ 
                    if((elementoaLimpiar.search(splitInicio_pop)>-1) && (elementoaLimpiar.search(splitFin_shift)>-1))
                    {
                    elementoLimpio=elementoaLimpiar.split(splitInicio_pop).pop().split(splitFin_shift).shift(); 
                    }else{
                        return undefined;
                    }
                }
            }

        if(formatDate=="formatDate-Y"){   
            const formatDate = (value) => {
            let date = new Date(value);
            const withCero = n => n < 10 ? `0${n}` : n;
            return `${withCero(date.getMonth()+1)}/${withCero(date.getDate())}/${date.getFullYear()}`;
            }
            let datess=formatDate(elementoaLimpiar);
            if(validarFormatoFecha(datess))elementoLimpio=datess;
        }
        if(addCero=="addCero-Y"){
            let  date0=addCero(elementoaLimpiar,splitFecha);
            if(validarFormatoFecha(date0))elementoLimpio=date0;

        }
        if(isDate=="isDate-Y"){
            if(validarFormatoFecha(elementoaLimpiar)){
                elementoaLimpiar=addCero(elementoaLimpiar,"/");
                elementoLimpio=elementoaLimpiar;
            }else{
                return undefined;
            }
        }    
        if(anular!="anular si existe esta expresion regular"){
            if(elementoaLimpiar.search(anular)>-1)  return undefined;
        }


        elementoLimpio=elementoLimpio==""?undefined:elementoLimpio.trim();
        return elementoLimpio;
    }else{
        return undefined;
    }
}







// buscOcurrenciaHTML(document.body,null,"",/uno|dos/gmi,false);
function buscOcurrenciaHTML(contenedor,selector,string,expR,verHTML) { // jjms
    let resultado;
    let revisar;

    if(contenedor!=null && selector!=null){
        revisar=contenedor?.querySelector(selector)?.innerHTML;
        if(verHTML)return revisar;
        if(revisar?.match(expR)?.length){
        resultado=revisar?.match(expR)[0];
        }
        }else{
            if(contenedor!=null && selector==null){
                revisar=contenedor?.innerHTML;
                if(verHTML)return revisar;
                if(revisar?.match(expR)?.length){
                resultado=revisar?.match(expR)[0];
                }

            }else{
                if(verHTML)return string;}
                if(string?.match(expR)?.length){
                resultado=string?.match(expR)[0];
        }
    }
     return resultado;
}









ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³

//EXTRACT BASICO   


(function() {
    var out = {};
    var html_jobs = document.querySelectorAll('');
    
//   // JJJJJJ// FORMAT DATE JJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJ
// const formatDate = (value) => {
//     let date = new Date(value);
//     const withCero = n => n < 10 ? `0${n}` : n;
//     return `${withCero(date.getMonth()+1)}/${withCero(date.getDate())}/${date.getFullYear()}`;
//   }
//   // JJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJ
    
    var jobs = [];
    for (var x in html_jobs) {
        if (typeof html_jobs[x] == "function") continue;
        if (typeof html_jobs[x] == "number") continue;
        var job = {};
        var elem = html_jobs[x];


        job.title = elem.querySelector('').textContent.trim();
        job.url = elem.querySelector('').href.trim();
        job.reqid = elem.querySelector('').href.trim();

        //   //*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjjjj SOURCE AND LOCATIONjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj 

        job.source_location = elem.querySelector('').textContent.trim();
        let hq=""; // HEAD QUARTERS
        job.source_location=job.source_location||"";
        if((job.source_location.search(/remote|headquarter|head quarter/gmi)>-1)||(job.source_location=="")||(job.source_location.length>70)){job.location=hq;}else{
        job.location=(job.source_location)||hq; } //HEAD QUARTERS:
        job.location=job.location.replace(/\d/gi,"").replace(/\(\d+\)/g,"").replace(/ \([^)]*\) /g, "").replace(/\(.*?\)/g, '').replace(/<\/?[^>]+(>|$)/g, "").replace(/[^\w\s]/gi, '').replace(/ \{[^)]*\} /g, "").replace(/ \[[^)]*\] /g, "");
        // if(job.location.search(//gmi)>-1){job.location="";}

        job.dateposted_raw = elem.querySelector('').textContent.trim();
        job.dateclosed_raw = elem.querySelector('').textContent.trim();
        job.source_jobtype = elem.querySelector('').textContent.trim();
        job.source_salary = elem.querySelector('').textContent.trim();
        job.experience_required = elem.querySelector('').textContent.trim();
        job.source_benefit=elem.querySelector('').textContent.trim();
        job.source_empname = elem.querySelector('').textContent.trim();
        job.logo=elem.querySelector('').getAttribute("src").trim();

        var datess=elem?.querySelector('')?.textContent.trim();
        // var datess=multiplesVariables(/Dateposted|DATEPOSTED/gmi,'li',tmp,false);
        if(datess!=undefined){
            //let dateposted_raw=formatDate(datess);
            // let dateposted_raw= getDateFormat(datess," ",1,0,2);
            // datess=datess.split('');
            // let dateposted_raw= datess[]+"/"+datess[]+"/"+datess[];

            if(validarFormatoFecha(dateposted_raw))job.dateposted_raw=dateposted_raw;
            // if(validarFormatoFecha(dateclosed_raw))job.dateclosed_raw=dateclosed_raw;
            }
//     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ variables funcion â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  /*  


            
            //MULTIPLES VARIABLES (SENCILLO)
            
            
            // var x1=multiplesVariables(/PALABRA|palabra/gmi,'li',document,false);
            
            // var datess=multiplesVariables(/Dateposted|DATEPOSTED/gmi,'li',document,false);
            // // job.dateposted_raw=formatDate(job.dateposted_raw);
            // // if(datess!='No encontrado')datess=datess.split('');
            // // job.dateposted_raw= datess[]+"/"+datess[]+"/"+datess[];
            
            // job.source_salary=multiplesVariables(/\$|salary|SALARY|Salary/gmi,'li',document,false);
            // job.source_jobtype=multiplesVariables(/JOBTYPE|jobtype|job type|Job Type/gmi,'li',document,false);
            // job.source_benefit=multiplesVariables(/BENEFIT|benefit|Benefit/gmi,'li',document,false);
            // job.logo=multiplesVariables(/logo/gmi,'li',document,false);
            //*/// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆrevision variablesâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
           if(!job.source_jobtype) job.source_jobtype=buscOcurrenciaHTML(elem,null,"",/fulltime|full-time|part-time|full time|partime|parttime|part time|teilzeit|permanent|casual/gmi,false);
           if(!job.dateposted_raw) job.dateposted_raw=buscOcurrenciaHTML(elem,null,"",/\d{1,2}\/\d{1,2}\/\d{1,4}/gi,false);
        //    if(!job.source_empname)job.source_empname=buscOcurrenciaHTML(document,"body","",/empname/gmi);

            //*/// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ

        
        job.temp = 1;



        jobs.push(job);
    }

    out["jobs"] = jobs;
    return out;
})();

function validarFormatoFecha(campo) {
    var RegExPattern = /^\d{1,2}\/\d{1,2}\/\d{2,4}$/;
    if ((campo.match(RegExPattern)) && (campo!='')) {
          return true;
    } else {
          return false;
    }
  }

  function multiplesVariables(expReg,selector,contenedor,nextElementSibling){  // jjms
    var resultado
    let aux = Array.from(contenedor.querySelectorAll(selector)).filter(x => x.textContent.search(expReg) > -1);
    if(!nextElementSibling)aux[0]!=null ? resultado=aux[0].textContent.replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g, '').trim() : resultado=undefined;
    if(nextElementSibling)aux[0]!=null ? resultado=aux[0].nextElementSibling.textContent.replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g, '').trim() : resultado=undefined;
    return resultado;
}


function getDateFormat(dateRaw, cut, dayPosition, monthPosition, yearPosition) {
    if(dateRaw.indexOf(",")>-1){     
     let commas = dateRaw.match(/\,/g).length;
       if(commas == 1){dateRaw = dateRaw.replace(/\,/g,"").trim();}
    }
    if(dateRaw.indexOf(".")>-1){
       let periods = dateRaw.match(/\./g).length;
       if(periods == 1){dateRaw = dateRaw.replace(/\./g,"").trim();}
    }
     let day   = dateRaw.split(cut)[dayPosition].trim(), 
         month = dateRaw.split(cut)[monthPosition].trim(), 
         year  = dateRaw.split(cut)[yearPosition].trim();

         day = day.replace(/nd|rd|st|th/gi,"").trim();    
      if(day < 10 && day.length < 2){day = "0" + day;}
      if(year.length == 2){year = "20" + year;}
 
     if(dateRaw.search(/[a-z]/gi)>-1){//English, German, Dutch, French, Portuguese 
         if(month.search(/jan/i)>-1){month = "01";}
         if(month.search(/feb|fÃ©v/i)>-1){month = "02";}
         if(month.search(/mar|maar/i)>-1){month = "03";}
         if(month.search(/apr|avr/i)>-1){month = "04";}
         if(month.search(/may|mai|mei/i)>-1){month = "05";}
         if(month.search(/jun|juin/i)>-1){month = "06";}
         if(month.search(/jul|juil/i)>-1){month = "07";}
         if(month.search(/aug|aoÃ»t/i)>-1){month = "08";}
         if(month.search(/sep/i)>-1){month = "09";}
         if(month.search(/oct|okt/i)>-1){month = "10";}
         if(month.search(/nov/i)>-1){month = "11";}
         if(month.search(/dec|dÃ©c/i)>-1){month = "12";}
     }
let datum = month +"/"+  day +"/"+ year;
 return datum;
}

//  =Limpiar(elementoaLimpiar,"formatDate-","isDate-","addCero-","splitFecha-","borrar este texto","numeros-","letras-","agrupaciones-","caracteresEspeciales-","correoUrl-","emogis-","anular si existe esta expresion regular","splitInicio_pop","splitFin_shift","splitUndefined-Y")

function Limpiar(elementoaLimpiar,formatDate,isDate,addCero,splitFecha,texto,numeros,letras,agrupaciones,caracteresEspeciales,correoUrl,emogis,anular,splitInicio_pop,splitFin_shift,splitUndefined){ // jjms
    var elementoLimpio="";
    function validarFormatoFecha(campo) {
        var RegExPattern = /^\d{1,2}\/\d{1,2}\/\d{2,4}$/;
        if ((campo.match(RegExPattern)) && (campo!='')) {
              return true;
        } else {
              return false;
        }
      }
      function addCero(fecha,splitearCon){
        var nDate=[];
        var nuevaFecha="";
        var tt;

        for(let j=0;j<3;j++){
            tt=fecha.split(splitearCon)[j].trim()
            if(tt.length<2){
                for (let i=1;i<10; i++){
                    tt= tt.replace(i,"0"+i).replace(/[^\w\s]/gi, '').trim();
                }
            }else{
                tt.replace(/[^\w\s]/gi, '').trim();
            }
                
            nDate.push(tt);
            }
        nuevaFecha=nDate.join("/");
        return nuevaFecha;
    }
    if(elementoaLimpiar){
        if(correoUrl=="correoUrl-Y"){ 
            
                if (elementoaLimpiar.indexOf('https') > -1) { elementoaLimpiar = elementoaLimpiar.replace(/(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");} 
                if (elementoaLimpiar.indexOf('http') > -1) {   elementoaLimpiar = elementoaLimpiar.replace(/(http?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");}  
                if (elementoaLimpiar.indexOf('HTTP') > -1) { elementoaLimpiar = elementoaLimpiar.replace(/(HTTP?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");  }
                if (elementoaLimpiar.indexOf('HTTPS') > -1) { elementoaLimpiar = elementoaLimpiar.replace(/(HTTPS?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");}
                if (elementoaLimpiar.indexOf('www') > -1)  { elementoaLimpiar = elementoaLimpiar.replace(/(www?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");  }
                elementoaLimpiar=elementoaLimpiar.replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g, '').trim(); 
                elementoLimpio=elementoaLimpiar;
                if (elementoaLimpiar.indexOf('@') > -1) {  
                    elementoLimpio = elementoaLimpiar?.replace(/\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+/gi,"");  } 
                if(elementoLimpio)elementoaLimpiar=elementoLimpio;
        }
        if(emogis=="emogis-Y"){
            elementoLimpio=elementoaLimpiar.replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g, '').trim(); 
            elementoaLimpiar=elementoLimpio;
        }
        if(numeros=="numeros-Y"){
            elementoLimpio=elementoaLimpiar.replaceAll(/\d/gmi,"");
            elementoaLimpiar=elementoLimpio;
        }

        if(letras=="letras-Y"){
            elementoLimpio=elementoaLimpiar.replaceAll(/\D/g,"");
            elementoaLimpiar=elementoLimpio;
        }
        if(caracteresEspeciales=="caracteresEspeciales-Y"){
            elementoLimpio=elementoaLimpiar.replaceAll(/[^\w\s]/gi, '');
            elementoaLimpiar=elementoLimpio;
        }
        if(texto!="borrar este texto"){
            elementoLimpio=elementoaLimpiar.replaceAll(texto, '');
            elementoaLimpiar=elementoLimpio;
        }
        if(agrupaciones=="agrupaciones-Y"){
            elementoLimpio=elementoaLimpiar.replace(/ \([^)]*\) /g, "")
            .replace(/\(.*?\)/g, '')
            .replace(/<\/?[^>]+(>|$)/g, "")
            .replace(/ \{[^)]*\} /g, "")
            .replace(/ \[[^)]*\] /g, "")
            .replace(/\(\d+\)/g,"")
            elementoaLimpiar=elementoLimpio;
        }
        if((splitInicio_pop!="splitInicio_pop" || splitFin_shift!="splitFin_shift" ) && splitUndefined=="splitUndefined-F"){
                if(splitInicio_pop!="splitInicio_pop" && splitFin_shift=="splitFin_shift"){
                    if(elementoaLimpiar.search(splitInicio_pop)>-1){
                    elementoLimpio=elementoaLimpiar.split(splitInicio_pop).pop();  
                    }else{
                        elementoLimpio=elementoaLimpiar;
                    } 
                }
                if(splitInicio_pop=="splitInicio_pop" && splitFin_shift!="splitFin_shift"){
                    if(elementoaLimpiar.search(splitFin_shift)>-1){
                    elementoLimpio=elementoaLimpiar.split(splitFin_shift).shift();   
                    }else{
                        elementoLimpio=elementoaLimpiar
                    }
                }
                if(splitInicio_pop!="splitInicio_pop" && splitFin_shift!="splitFin_shift"){ 
                    if((elementoaLimpiar.search(splitInicio_pop)>-1) && (elementoaLimpiar.search(splitFin_shift)>-1))
                    {
                    elementoLimpio=elementoaLimpiar.split(splitInicio_pop).pop().split(splitFin_shift).shift(); 
                    }else{
                        elementoLimpio=elementoaLimpiar;
                    }
                }
            }
            if((splitInicio_pop!="splitInicio_pop" || splitFin_shift!="splitFin_shift" ) && splitUndefined=="splitUndefined-Y"){
                if(splitInicio_pop!="splitInicio_pop" && splitFin_shift=="splitFin_shift"){
                    if(elementoaLimpiar.search(splitInicio_pop)>-1){
                    elementoLimpio=elementoaLimpiar.split(splitInicio_pop).pop();  
                    }else{
                        return undefined;
                    } 
                }
                if(splitInicio_pop=="splitInicio_pop" && splitFin_shift!="splitFin_shift"){
                    if(elementoaLimpiar.search(splitFin_shift)>-1){
                    elementoLimpio=elementoaLimpiar.split(splitFin_shift).shift();   
                    }else{
                        return undefined
                    }
                }
                if(splitInicio_pop!="splitInicio_pop" && splitFin_shift!="splitFin_shift"){ 
                    if((elementoaLimpiar.search(splitInicio_pop)>-1) && (elementoaLimpiar.search(splitFin_shift)>-1))
                    {
                    elementoLimpio=elementoaLimpiar.split(splitInicio_pop).pop().split(splitFin_shift).shift(); 
                    }else{
                        return undefined;
                    }
                }
            }

        if(formatDate=="formatDate-Y"){   
            const formatDate = (value) => {
            let date = new Date(value);
            const withCero = n => n < 10 ? `0${n}` : n;
            return `${withCero(date.getMonth()+1)}/${withCero(date.getDate())}/${date.getFullYear()}`;
            }
            let datess=formatDate(elementoaLimpiar);
            if(validarFormatoFecha(datess))elementoLimpio=datess;
        }
        if(addCero=="addCero-Y"){
            let  date0=addCero(elementoaLimpiar,splitFecha);
            if(validarFormatoFecha(date0))elementoLimpio=date0;

        }
        if(isDate=="isDate-Y"){
            if(validarFormatoFecha(elementoaLimpiar)){
                elementoaLimpiar=addCero(elementoaLimpiar,"/");
                elementoLimpio=elementoaLimpiar;
            }else{
                return undefined;
            }
        }    
        if(anular!="anular si existe esta expresion regular"){
            if(elementoaLimpiar.search(anular)>-1)  return undefined;
        }


        elementoLimpio=elementoLimpio==""?undefined:elementoLimpio.trim();
        return elementoLimpio;
    }else{
        return undefined;
    }
}







// buscOcurrenciaHTML(document.body,null,"",/uno|dos/gmi,false);
function buscOcurrenciaHTML(contenedor,selector,string,expR,verHTML) { // jjms
    let resultado;
    let revisar;

    if(contenedor!=null && selector!=null){
        revisar=contenedor?.querySelector(selector)?.innerHTML;
        if(verHTML)return revisar;
        if(revisar?.match(expR)?.length){
        resultado=revisar?.match(expR)[0];
        }
        }else{
            if(contenedor!=null && selector==null){
                revisar=contenedor?.innerHTML;
                if(verHTML)return revisar;
                if(revisar?.match(expR)?.length){
                resultado=revisar?.match(expR)[0];
                }

            }else{
                if(verHTML)return string;}
                if(string?.match(expR)?.length){
                resultado=string?.match(expR)[0];
        }
    }
     return resultado;
}













ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³
// jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj /*
//*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj

ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³
â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸

//LIMPIAR DESCRIPCIONES
const remove_selectors = [
    'a',
    'i',
    'img',
    'svg',
    'link',
    'iframe',
    'form',
    'noscript',
    'figure',
    'video',
    'button',
    'input',
    'style',
    'javascript',
    'script',
];


if (typeof cleanHTML == "undefined") cleanHTML = function(x) {
    return x
};
if (typeof msg == "undefined") msg = console.log;

//clean emogis
job.html = job.html.replace(/([\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g, '').trim();
if(job.html.indexOf('@')>-1){
    var eliminar = job.html?.replace(/\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+/gi,"");  } 
if(eliminar)job.html=eliminar;


if (job.html.indexOf('https') > -1) { job.html = job.html.replace(/(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,""); }
if (job.html.indexOf('http') > -1)  { job.html = job.html.replace(/(http?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");  } 
if (job.html.indexOf('HTTPS') > -1) { job.html = job.html.replace(/(HTTPS?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,""); }
if (job.html.indexOf('HTTP') > -1)  { job.html = job.html.replace(/(HTTP?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");  }
if (job.html.indexOf('www') > -1)  { job.html = job.html.replace(/(www?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \?=.-]*)*\/?/gi,"");  }


job.html=Limpiar(job.html,"formatDate-","isDate-","addCero-","splitFecha-","borrar este texto","numeros-","letras-","agrupaciones-","caracteresEspeciales-","correoUrl-Y","emogis-Y","anular si existe esta expresion regular","splitInicio_pop","splitFin_shift","splitUndefined-Y");


printJob(job);
  
ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³ðŸ³

TAREAS

ARREGLAR EN TODAS EL SOURCE LOCATION DE LAS LINEAS QUE PUSE MAL




3) realizar validaciones para todas las variables por ejemplo limpiar numeros en las locaciones, ver que tengan menos de 3 comas, cantidad de caracteres




12) win+ shift + s cortar pantallazo

8) con la funcion jobtype nueva


            // //*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj 
            if(!job.source_jobtype) job.source_jobtype=buscOcurrenciaHTML(document.body,null,"",/fulltime|full-time|part-time|full time|partime|parttime|part time|teilzeit|permanent|casual/gmi,false);
            if(!job.dateposted_raw) job.dateposted_raw=buscOcurrenciaHTML(document.body,null,"",/\d{1,2}\/\d{1,2}\/\d{1,4}/gi,false); //   11/01/2022   1/5/2022
           
            if(!job.dateposted_raw) { //  //   Nov 08, 2022 
                let date=buscOcurrenciaHTML(document.body,null,"",/\D{1,3}\s\d{1,2}\D\s\d{1,4}/gmi);
                date=date.replaceAll(",","").replaceAll(".","").replace(/[^\w\s]/gi, '').trim();
                date=getDateFormat(date," ",1,0,2);
            }   
            if(!job.dateposted_raw) { //  //   10.11.2022
                let date=buscOcurrenciaHTML(document.body,null,"",/\d{1,2}\.\d{1,2}\.\d{1,4}/gmi);
        
                date=getDateFormat(date,".",0,1,2);
                job.dateposted_raw=date;
            }          
            if(!job.dateposted_raw) { //  //   10.11.2022
                let date=buscOcurrenciaHTML(document.body,null,"",/\d{1,2}\.\d{1,2}\.\d{1,4}/gmi);
        
               if(date) date=getDateFormat(date,".",0,1,2), job.dateposted_raw=date;;
            }  
            // if(!job.source_empname)job.source_empname=buscOcurrenciaHTML(document,"body","",/empname/gmi);
            // if(!job.source_salary) job.dateposted_raw=buscOcurrenciaHTML(elem,null,"",/\$|â‚¬|salary|SALARY|Salary/gmi,false);  
            // //*/ // jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj 

ACTUALIZAR CON MAS EXPRESIONES EN MAS IDIOMAS





const regexSalaryWithKilos = /\$\d+(\.|,|-)?\d*\s*k?\W*\d*\s*(to|-)?\s?\W*\d*\W*\d*\W*\d*\s?k?(hr|hourly|hour|per hour|per year|per month|\/?monthly|\/?month|\/?year|\/?Annually)?|\$\d+\s?(per hour|per year|per month|\/?month|\/?year|\/?Annually)/i;


if (regexSalaryWithKilos.test(job.html)) {
    job.source_salary = regexSalaryWithKilos.exec(job.html)[0];
} else {
    job.source_salary = undefined;
}



function deleteUselessContent(container, regex, childElements) {
    Array.from(container.querySelectorAll(childElements)) // we create an array based on the childs of desc to iterate over it.
    .filter(p => p.textContent.search(regex) > -1) // Returning only the elements we want to delete
    .forEach(item => {item.remove();}); // deleting them from the DOM at last
  }

INTERESANTE
            if(pass_it["job"].url.indexOf("Campus_Safety_I.aspx") > -1){
                selector = '[id="main_wide"] [class="box"]';
              }else{
                selector = '[class="row push-bottom"] [class="col-xs-12 col-md-8"]';
              }